var ChluIPFS=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=43)}([function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=c(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|l(t,n),s=(e=i(e,r)).write(t,n);s!==r&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|f(t.length);return 0===(e=i(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?i(e,0):c(e,t);if("Buffer"===t.type&&T(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(a(t),e=i(e,t<0?0:0|f(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|f(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function l(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return O(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[o]);return i}(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return function(e,t,n){return 0===t&&n===e.length?j.fromByteArray(e):j.fromByteArray(e.slice(t,n))}(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}var c;if(i){var f=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,-1===f?0:c-f)){if(-1===f&&(f=c),c-f+1===u)return f*s}else-1!==f&&(c-=c-f),f=-1}else for(n+u>a&&(n=a-u),c=n;c>=0;c--){for(var l=!0,h=0;h<u;h++)if(o(e,c+h)!==o(t,h)){l=!1;break}if(l)return c}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return B(D(t,e.length-n),e,n,r)}function y(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return y(e,t,n,r)}function k(e,t,n,r){return B(O(t),e,n,r)}function w(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,f,l;switch(a){case 1:o<128&&(s=o);break;case 2:128==(192&(u=e[i+1]))&&(l=(31&o)<<6|63&u)>127&&(s=l);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:u=e[i+1],c=e[i+2],f=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return function(e){var t=e.length;if(t<=U)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=U));return n}(r)}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function E(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function A(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function C(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,i){return i||C(e,0,n,4),P.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return i||C(e,0,n,8),P.write(e,t,n,r,52,8),n+8}function D(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function O(e){return j.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var j=n(45),P=n(46),T=n(47);t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!T(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=l,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):h.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,u=Math.min(s,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),P.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),P.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),P.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),P.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);x(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);x(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:D(new o(e,r).toString()),u=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g}).call(t,n(4))},function(e,t,n){e.exports={encode:n(52),decode:n(53),encodingLength:n(54)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(){d&&h&&(d=!1,h.length?p=h.concat(p):b=-1,p.length&&s())}function s(){if(!d){var e=i(o);d=!0;for(var t=p.length;t;){for(h=p,p=[];++b<t;)h&&h[b].run();b=-1,t=p.length}h=null,d=!1,function(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var c,f,l=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],d=!1,b=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||d||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.prependListener=u,l.prependOnceListener=u,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t){e.exports={types:{customer:"customer",vendor:"vendor",marketplace:"marketplace",service:"service"},eventTypes:{unknown:"UNKNOWN",pinning:"PINNING",pinned:"PINNED",wroteReviewRecord:"WROTE_REVIEW_RECORD",updatedReview:"UPDATED_REVIEW",customerReviews:"CUSTOMER_REVIEWS",replicating:"REPLICATING",replicated:"REPLICATED"},customerDbName:"chlu-experimental-customer-review-updates",pubsubRoom:"chlu-experimental",defaultIPFSOptions:{EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star","/dns4/ws-star-signal-1.servep2p.com/tcp/443/wss/p2p-websocket-star","/dns4/ws-star-signal-2.servep2p.com/tcp/443/wss/p2p-websocket-star"]}}}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function r(e){t.decode(e)}const i=n(49),o=n(51);t.names=o.names,t.codes=o.codes,t.defaultLengths=o.defaultLengths;const s=n(1);t.toHexString=function(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return t.toString("hex")},t.fromHexString=function(t){return e.from(t,"hex")},t.toB58String=function(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return i.encode(t)},t.fromB58String=function(t){let n=t;return e.isBuffer(t)&&(n=t.toString()),e.from(i.decode(n))},t.decode=function(n){if(!e.isBuffer(n))throw new Error("multihash must be a Buffer");if(n.length<3)throw new Error("multihash too short. must be > 3 bytes.");let r=s.decode(n);if(!t.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);n=n.slice(s.decode.bytes);let i=s.decode(n);if(i<1)throw new Error(`multihash invalid length: 0x${i.toString(16)}`);if((n=n.slice(s.decode.bytes)).length!==i)throw new Error(`multihash length inconsistent: 0x${n.toString("hex")}`);return{code:r,name:o.codes[r],length:i,digest:n}},t.encode=function(n,r,i){if(!n||!r)throw new Error("multihash encode requires at least two args: digest, code");const o=t.coerceCode(r);if(!e.isBuffer(n))throw new Error("digest should be a Buffer");if(null==i&&(i=n.length),i&&n.length!==i)throw new Error("digest length should be equal to specified length.");return e.concat([e.from(s.encode(o)),e.from(s.encode(i)),n])},t.coerceCode=function(e){let n=e;if("string"==typeof e){if(!o.names[e])throw new Error(`Unrecognized hash function named: ${e}`);n=o.names[e]}if("number"!=typeof n)throw new Error(`Hash function code should be a number. Got: ${n}`);if(!o.codes[n]&&!t.isAppCode(n))throw new Error(`Unrecognized function code: ${n}`);return n},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!o.codes[e]},t.validate=r,t.prefix=function(e){return r(e),e.slice(0,2)}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(r){const i=n(5),o=n(23);(t=e.exports=class{constructor(e,t,n){o(n,"A link requires a multihash to point to"),this._name=e,this._size=t,"string"==typeof n?this._multihash=i.fromB58String(n):r.isBuffer(n)&&(this._multihash=n)}toString(){return`DAGLink <${i.toB58String(this.multihash)} - name: "${this.name}", size: ${this.size}>`}toJSON(){return{name:this.name,size:this.size,multihash:i.toB58String(this._multihash)}}get name(){return this._name}set name(e){throw new Error("Can't set property: 'name' is immutable")}get size(){return this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(e){throw new Error("Can't set property: 'multihash' is immutable")}}).create=n(91),t.util=n(92)}).call(t,n(0).Buffer)},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=n(0),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=function(e,t){function n(o){if(r=o,i)return n.abort();!function n(){for(var o=!0,s=!1;o;)if(s=!1,r(null,function(a,u){if(s=!0,a=a||i){if(o=!1,t)t(!0===a?null:a);else if(a&&!0!==a)throw a}else e&&!1===e(u)||i?(o=!1,r(i||!0,t||function(){})):o||n()}),!s)return void(o=!1)}()}var r,i;return n.abort=function(e,t){if("function"==typeof e&&(t=e,e=!0),i=e||!0,r)return r(i,t||function(){})},n}},function(e,t){e.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)}},function(e,t,n){"use strict";(function(t){const r=n(24),i=n(71),o=n(17).serialize,s=n(11).linkSort,a=n(14),u=n(6);e.exports=function(e,n,c,f){if("function"==typeof e?(f=e,e=void 0):"string"==typeof e&&(e=t.from(e)),"function"==typeof n&&(f=n,n=[]),"function"==typeof c&&(f=c,c=void 0),!t.isBuffer(e))return f(new Error("Passed 'data' is not a buffer or a string!"));c||(c="sha2-256");const l=n.map(e=>u.util.isDagLink(e)?e:u.util.createDagLinkFromB58EncodedHash(e)),h=i(l,s);o({data:e,links:h},(t,n)=>{if(t)return f(t);r(n,c,(t,r)=>{if(t)return f(t);const i=new a(e,h,n,r);f(null,i)})})}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(r){const i=n(6);(t=e.exports).cloneData=function(e){let t;return e.data&&e.data.length>0?(t=r.alloc(e.data.length),e.data.copy(t)):t=r.alloc(0),t},t.cloneLinks=function(e){return e.links.slice()},t.linkSort=function(e,t){const n=r.from(e.name||""),i=r.from(t.name||"");return n.compare(i)},t.toDAGLink=function(e){return new i("",e.size,e.multihash)}}).call(t,n(0).Buffer)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(t){const r=n(48).DAGNode,i=n(106);e.exports=Object.assign(class{constructor(e){this.chluIpfs=e}async get(e){return(await this.chluIpfs.ipfs.object.get(i.multihashToBuffer(e))).data}async createDAGNode(e){if(!t.isBuffer(e))throw new Error("Argument is not a buffer");return await new Promise((t,n)=>{r.create(e,[],(e,r)=>{e?n(e):t(r)})})}async storeDAGNode(e){const t=await this.chluIpfs.ipfs.object.put(e);if(t.toJSON().multihash!==e.toJSON().multihash)throw new Error("Multihash mismatch");return i.getDAGNodeMultihash(t)}},i)}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(r){const i=n(5),o=n(23);(t=e.exports=class{constructor(e,t,n,s){o(n,"DAGNode needs its serialized format"),o(s,"DAGNode needs its multihash"),"string"==typeof s&&(s=i.fromB58String(s)),this._data=e||r.alloc(0),this._links=t||[],this._serialized=n,this._multihash=s,this._size=this.links.reduce((e,t)=>e+t.size,this.serialized.length),this._json={data:this.data,links:this.links.map(e=>e.toJSON()),multihash:i.toB58String(this.multihash),size:this.size}}toJSON(){return this._json}toString(){return`DAGNode <${i.toB58String(this.multihash)} - data: "${this.data.toString()}", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(e){throw new Error("Can't set property: 'data' is immutable")}get links(){return this._links}set links(e){throw new Error("Can't set property: 'links' is immutable")}get serialized(){return this._serialized}set serialized(e){throw new Error("Can't set property: 'serialized' is immutable")}get size(){return this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(e){throw new Error("Can't set property: 'multihash' is immutable")}}).create=n(10),t.clone=n(93),t.addLink=n(94),t.rmLink=n(95)}).call(t,n(0).Buffer)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(63),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r},e.exports=t.default},function(e,t,n){"use strict";(function(r){const i=n(72),o=n(31)(n(90)),s=n(6),a=n(14);(t=e.exports).serialize=function(e,t){let n;"DAGNode"!==e.constructor.name&&e.links&&(e.links=e.links.map(e=>s.util.isDagLink(e)?e:s.util.createDagLinkFromB58EncodedHash(e)));try{n=o.PBNode.encode(function(e){const t={};return e.data&&e.data.length>0?t.Data=e.data:t.Data=null,e.links&&e.links.length>0?t.Links=e.links.map(e=>({Hash:e.multihash,Name:e.name,Tsize:e.size})):t.Links=null,t}(e))}catch(e){return t(e)}t(null,n)},t.deserialize=function(e,t){const n=o.PBNode.decode(e),i=n.Links.map(e=>new s(e.Name,e.Tsize,e.Hash)),u=null==n.Data?r.alloc(0):r.from(n.Data);a.create(u,i,t)},t.cid=function(e,t){if(e.multihash)return t(null,new i(e.multihash));t(new Error("not valid dagPB node"))}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(n){(t=e.exports).raw=n.from("55","hex"),t.base1=n.from("01","hex"),t.base8=n.from("07","hex"),t.base10=n.from("09","hex"),t.protobuf=n.from("50","hex"),t.cbor=n.from("51","hex"),t.rlp=n.from("60","hex"),t.bencode=n.from("63","hex"),t.multicodec=n.from("30","hex"),t.multihash=n.from("31","hex"),t.multiaddr=n.from("32","hex"),t.multibase=n.from("33","hex"),t.sha1=n.from("11","hex"),t["sha2-256"]=n.from("12","hex"),t["sha2-512"]=n.from("13","hex"),t["sha3-224"]=n.from("17","hex"),t["sha3-256"]=n.from("16","hex"),t["sha3-384"]=n.from("15","hex"),t["sha3-512"]=n.from("14","hex"),t["shake-128"]=n.from("18","hex"),t["shake-256"]=n.from("19","hex"),t["keccak-224"]=n.from("1a","hex"),t["keccak-256"]=n.from("1b","hex"),t["keccak-384"]=n.from("1c","hex"),t["keccak-512"]=n.from("1d","hex"),t.blake2b=n.from("40","hex"),t.blake2s=n.from("41","hex"),t.ip4=n.from("04","hex"),t.ip6=n.from("29","hex"),t.tcp=n.from("06","hex"),t.udp=n.from("0111","hex"),t.dccp=n.from("21","hex"),t.sctp=n.from("84","hex"),t.udt=n.from("012d","hex"),t.utp=n.from("012e","hex"),t.ipfs=n.from("2a","hex"),t.http=n.from("01e0","hex"),t.https=n.from("01bb","hex"),t.ws=n.from("01dd","hex"),t.onion=n.from("01bc","hex"),t["git-raw"]=n.from("78","hex"),t["dag-pb"]=n.from("70","hex"),t["dag-cbor"]=n.from("71","hex"),t["eth-block"]=n.from("90","hex"),t["eth-block-list"]=n.from("91","hex"),t["eth-tx-trie"]=n.from("92","hex"),t["eth-tx"]=n.from("93","hex"),t["eth-tx-receipt-trie"]=n.from("94","hex"),t["eth-tx-receipt"]=n.from("95","hex"),t["eth-state-trie"]=n.from("96","hex"),t["eth-account-snapshot"]=n.from("97","hex"),t["eth-storage-trie"]=n.from("98","hex"),t["bitcoin-block"]=n.from("b0","hex"),t["bitcoin-tx"]=n.from("b1","hex"),t["stellar-block"]=n.from("d0","hex"),t["stellar-tx"]=n.from("d1","hex"),t["torrent-info"]=n.from("7b","hex"),t["torrent-file"]=n.from("7c","hex")}).call(t,n(0).Buffer)},function(e,t,n){"use strict";t.defined=function(e){return null!==e&&void 0!==e&&("number"!=typeof e||!isNaN(e))}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e,t){if(!e)return function(e,n){return e?r(n,e,t):n(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(t){return e[t]}));var n=0;return function(i,o){if(i)return r(o,i,t);n>=e.length?o(!0):o(null,e[n++])}}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t,n){n||(n=t,t=null);var i=r(function(n){t=e(t,n)},function(e){n(e,t)});return 2===arguments.length?function(e){e(null,function(r,o){if(r)return n(!0===r?null:r);t=o,i(e)})}:i}},function(e,t,n){"use strict";var r=n(40);e.exports=function(e){return e=r(e),function(t){return function n(r,i){for(var o,s=!0;s;)s=!1,o=!0,t(r,function(t,r){if(!t&&!e(r))return o?s=!0:n(t,i);i(t,r)}),o=!1}}}},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function s(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(v.isFunction(e)){if(k)return e.name;var t=e.toString().match(S);return t&&t[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(k||!v.isFunction(e))return v.inspect(e);var t=a(e);return"[Function"+(t?": "+t:"")+"]"}function f(e,t,n,r,i){throw new w.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function l(e,t){e||f(e,!0,t,"==",w.ok)}function h(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(v.isDate(e)&&v.isDate(t))return e.getTime()===t.getTime();if(v.isRegExp(e)&&v.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(v.isPrimitive(e)||v.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=m.call(e),t=m.call(t),h(e,t,n);var s,a,u=_(e),c=_(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(s=u[a],!h(e[s],t[s],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function d(e,t,n){h(e,t,!0)&&f(e,t,n,"notDeepStrictEqual",d)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function g(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&v.isError(i),a=!e&&i&&!n;if((s&&o&&b(i,n)||a)&&f(i,n,"Got unwanted exception"+r),e&&i&&n&&!b(i,n)||!e&&i)throw i}var v=n(55),y=Object.prototype.hasOwnProperty,m=Array.prototype.slice,k="foo"===function(){}.name,w=e.exports=l,S=/\s*function\s+([^\(\s]*)\s*/;w.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return u(c(e.actual),128)+" "+e.operator+" "+u(c(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=a(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},v.inherits(w.AssertionError,Error),w.fail=f,w.ok=l,w.equal=function(e,t,n){e!=t&&f(e,t,n,"==",w.equal)},w.notEqual=function(e,t,n){e==t&&f(e,t,n,"!=",w.notEqual)},w.deepEqual=function(e,t,n){h(e,t,!1)||f(e,t,n,"deepEqual",w.deepEqual)},w.deepStrictEqual=function(e,t,n){h(e,t,!0)||f(e,t,n,"deepStrictEqual",w.deepStrictEqual)},w.notDeepEqual=function(e,t,n){h(e,t,!1)&&f(e,t,n,"notDeepEqual",w.notDeepEqual)},w.notDeepStrictEqual=d,w.strictEqual=function(e,t,n){e!==t&&f(e,t,n,"===",w.strictEqual)},w.notStrictEqual=function(e,t,n){e===t&&f(e,t,n,"!==",w.notStrictEqual)},w.throws=function(e,t,n){g(!0,e,t,n)},w.doesNotThrow=function(e,t,n){g(!1,e,t,n)},w.ifError=function(e){if(e)throw e};var _=Object.keys||function(e){var t=[];for(var n in e)y.call(e,n)&&t.push(n);return t}}).call(t,n(4))},function(e,t,n){"use strict";(function(t){function r(e,t,n,o){if("function"==typeof n&&(o=n,n=void 0),!o)throw new Error("Missing callback");r.digest(e,t,n,(e,r)=>{if(e)return o(e);o(null,i.encode(r,t,n))})}const i=n(5),o=n(58);e.exports=r,r.Buffer=t,r.multihash=i,r.digest=function(e,t,n,i){if("function"==typeof n&&(i=n,n=void 0),!i)throw new Error("Missing callback");let o=i;n&&(o=((e,t)=>{if(e)return i(e);i(null,t.slice(0,n))}));let s;try{s=r.createHash(t)}catch(e){return o(e)}s(e,o)},r.createHash=function(e){if(e=i.coerceCode(e),!r.functions[e])throw new Error("multihash function "+e+" not yet supported");return r.functions[e]},r.functions={17:o.sha1,18:o.sha2256,19:o.sha2512,20:o.sha3512,21:o.sha3384,22:o.sha3256,23:o.sha3224,24:o.shake128,25:o.shake256,26:o.keccak224,27:o.keccak256,28:o.keccak384,29:o.keccak512,34:o.murmur3128,35:o.murmur332},o.addBlake(r.functions)}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(e){const r=n(62);t.toCallback=(e=>(function(t,n){const i=(e,t)=>r(()=>{n(e,t)});let o;try{o=e(t)}catch(e){return void i(e)}i(null,o)})),t.toBuf=((t,n)=>r=>{let i=t(r,n);return new e(i,"hex")}),t.fromString=((t,n)=>r=>{const i=e.isBuffer(r)?r.toString():r;return t(i,n)}),t.fromNumberTo32BitBuf=((t,n)=>r=>{let i=t(r,n);const o=new Array(4);for(let e=0;e<4;e++)o[e]=255&i,i>>=8;return e.from(o)})}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(e,r){function i(e){setTimeout(e,0)}function o(e){return function(t){var n=(0,a.default)(arguments,1);e(function(){t.apply(null,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=i,t.wrap=o;var s,a=function(e){return e&&e.__esModule?e:{default:e}}(n(16)),u=t.hasSetImmediate="function"==typeof e&&e,c=t.hasNextTick="object"==typeof r&&"function"==typeof r.nextTick;s=u?e:c?r.nextTick:i,t.default=o(s)}).call(t,n(15).setImmediate,n(2))},function(e,t){e.exports=function(e){return e&&"function"==typeof e.then}},function(e,t,n){(function(t){function n(e){return(4294967296+e).toString(16).substring(1)}var r="Input must be an string, Buffer or Uint8Array";e.exports={normalizeInput:function(e){var n;if(e instanceof Uint8Array)n=e;else if(e instanceof t)n=new Uint8Array(e);else{if("string"!=typeof e)throw new Error(r);n=new Uint8Array(t.from(e,"utf8"))}return n},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,t,r){for(var i="\n"+e+" = ",o=0;o<t.length;o+=2){if(32===r)i+=n(t[o]).toUpperCase(),i+=" ",i+=n(t[o+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(t[o+1]).toUpperCase(),i+=n(t[o]).toUpperCase()}o%6==4?i+="\n"+new Array(e.length+4).join(" "):o<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),i=new Uint8Array(t),o=0;o<t;o++)i[o]=o%256;var s=(new Date).getTime();for(console.log("Generated random input in "+(s-r)+"ms"),r=s,o=0;o<n;o++){var a=e(i),u=(new Date).getTime(),c=u-r;r=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";const r=n(18),i=n(30).varintBufferEncode,o={};e.exports=o;for(let e in r){let t=r[e];o[e]=i(t)}},function(e,t,n){"use strict";(function(t){function r(e){return parseInt(e.toString("hex"),16)}function i(e){let n=e.toString(16);return n.length%2==1&&(n="0"+n),t.from(n,"hex")}const o=n(1);e.exports={numberToBuffer:i,bufferToNumber:r,varintBufferEncode:function(e){return t.from(o.encode(r(e)))},varintBufferDecode:function(e){return i(o.decode(e))}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(80),i=n(84);e.exports=function(e,n){if(n||(n={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var o="object"!=typeof e||t.isBuffer(e)?r.parse(e):e,s=function(){var e=this;i(o,n.encodings||{}).forEach(function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach(function(n){t[n]=e[n].value}),t}(t.values)||t})};return s.prototype.toString=function(){return r.stringify(o)},s.prototype.toJSON=function(){return o},new s}}).call(t,n(0).Buffer)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(2))},function(e,t,n){(function(t){function r(){return s.isNode()?i.join(t.env.HOME||".",".chlu"):""}const i=n(32),o=n(108),s=n(34);e.exports={save:async function(e=r(),t,n){const a=JSON.stringify(t);if(s.isNode()){o.existsSync(e)||o.mkdirSync(e);const t=i.join(e,n+".json");await new Promise((e,n)=>{o.writeFile(t,a,t=>t?n(t):e())})}else localStorage.setItem("chlu-"+n+"-data",a)},load:async function(e=r(),t){if(s.isNode()){const n=i.join(e,t+".json");return o.existsSync(n)?await new Promise((n,r)=>{o.readFile(i.join(e,t+".json"),(e,t)=>{e&&r(e);try{const i=JSON.parse(t.toString());n(i)}catch(e){r(e)}})}):{}}{const e=localStorage.getItem("chlu-"+t+"-data")||"{}";return JSON.parse(e)}},getDefaultDirectory:r}}).call(t,n(2))},function(e,t){e.exports={isNode:()=>"undefined"==typeof window}},function(e,t,n){(function(e,n){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function a(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e,t){return function(n){return e(t(n))}}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function l(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(e){this.__data__=new l(e)}function d(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&A(e)}(e)&&ke.call(e,"callee")&&(!Ie.call(e,"callee")||we.call(e)==j)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!ke.call(e,o)||i&&("length"==o||function(e,t){return!!(t=null==t?B:t)&&("number"==typeof e||se.test(e))&&e>-1&&e%1==0&&e<t}(o,r))||n.push(o);return n}function b(e,t,n){var r=e[t];ke.call(e,t)&&E(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function g(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1}function v(e,t,n,u,f,l,h){var d;if(u&&(d=l?u(e,f,l,h):u(e)),void 0!==d)return d;if(!I(e))return e;var g=Ve(e);if(g){if(d=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,d)}else{var y=Je(e),w=y==U||y==F;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(y==N||y==j||w&&!l){if(s(e))return l?e:{};if(d=function(e){return"function"!=typeof e.constructor||_(e)?{}:function(e){return I(e)?Ce(e):{}}(Ae(e))}(w?{}:e),!t)return function(e,t){return k(e,Ge(e),t)}(e,function(e,t){return e&&k(t,R(t),e)}(d,e))}else{if(!ae[y])return l?e:{};d=function(e,t,n,s){var u=e.constructor;switch(t){case J:return m(e);case P:case T:return new u(+e);case V:return function(e,t){var n=t?m(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,s);case W:case K:case Z:case X:case Q:case ee:case te:case ne:case re:return function(e,t){var n=t?m(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,s);case M:return function(e,t,n){return o(t?n(a(e),!0):a(e),r,new e.constructor)}(e,s,n);case L:case H:return new u(e);case q:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case $:return function(e,t,n){return o(t?n(c(e),!0):c(e),i,new e.constructor)}(e,s,n);case Y:return function(e){return Ye?Object(Ye.call(e)):{}}(e)}}(e,y,v,t)}}h||(h=new p);var S=h.get(e);if(S)return S;if(h.set(e,d),!g)var x=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,R,Ge)}(e):R(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(x||e,function(r,i){x&&(r=e[i=r]),b(d,i,v(r,t,n,u,i,e,h))}),d}function y(e){if(!I(e)||function(e){return!!ye&&ye in e}(e))return!1;return(C(e)||s(e)?Se:oe).test(x(e))}function m(e){var t=new e.constructor(e.byteLength);return new Ee(t).set(new Ee(e)),t}function k(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;b(n,s,void 0===a?e[s]:a)}return n}function w(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function S(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return y(n)?n:void 0}function _(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ge)}function x(e){if(null!=e){try{return me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function E(e,t){return e===t||e!=e&&t!=t}function A(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B}(e.length)&&!C(e)}function C(e){var t=I(e)?we.call(e):"";return t==U||t==F}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function R(e){return A(e)?d(e):function(e){if(!_(e))return Be(e);var t=[];for(var n in Object(e))ke.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var D=200,O="__lodash_hash_undefined__",B=9007199254740991,j="[object Arguments]",P="[object Boolean]",T="[object Date]",U="[object Function]",F="[object GeneratorFunction]",M="[object Map]",L="[object Number]",N="[object Object]",z="[object Promise]",q="[object RegExp]",$="[object Set]",H="[object String]",Y="[object Symbol]",G="[object WeakMap]",J="[object ArrayBuffer]",V="[object DataView]",W="[object Float32Array]",K="[object Float64Array]",Z="[object Int8Array]",X="[object Int16Array]",Q="[object Int32Array]",ee="[object Uint8Array]",te="[object Uint8ClampedArray]",ne="[object Uint16Array]",re="[object Uint32Array]",ie=/\w*$/,oe=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ae={};ae[j]=ae["[object Array]"]=ae[J]=ae[V]=ae[P]=ae[T]=ae[W]=ae[K]=ae[Z]=ae[X]=ae[Q]=ae[M]=ae[L]=ae[N]=ae[q]=ae[$]=ae[H]=ae[Y]=ae[ee]=ae[te]=ae[ne]=ae[re]=!0,ae["[object Error]"]=ae[U]=ae[G]=!1;var ue="object"==typeof e&&e&&e.Object===Object&&e,ce="object"==typeof self&&self&&self.Object===Object&&self,fe=ue||ce||Function("return this")(),le="object"==typeof t&&t&&!t.nodeType&&t,he=le&&"object"==typeof n&&n&&!n.nodeType&&n,pe=he&&he.exports===le,de=Array.prototype,be=Function.prototype,ge=Object.prototype,ve=fe["__core-js_shared__"],ye=function(){var e=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),me=be.toString,ke=ge.hasOwnProperty,we=ge.toString,Se=RegExp("^"+me.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=pe?fe.Buffer:void 0,xe=fe.Symbol,Ee=fe.Uint8Array,Ae=u(Object.getPrototypeOf,Object),Ce=Object.create,Ie=ge.propertyIsEnumerable,Re=de.splice,De=Object.getOwnPropertySymbols,Oe=_e?_e.isBuffer:void 0,Be=u(Object.keys,Object),je=S(fe,"DataView"),Pe=S(fe,"Map"),Te=S(fe,"Promise"),Ue=S(fe,"Set"),Fe=S(fe,"WeakMap"),Me=S(Object,"create"),Le=x(je),Ne=x(Pe),ze=x(Te),qe=x(Ue),$e=x(Fe),He=xe?xe.prototype:void 0,Ye=He?He.valueOf:void 0;f.prototype.clear=function(){this.__data__=Me?Me(null):{}},f.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},f.prototype.get=function(e){var t=this.__data__;if(Me){var n=t[e];return n===O?void 0:n}return ke.call(t,e)?t[e]:void 0},f.prototype.has=function(e){var t=this.__data__;return Me?void 0!==t[e]:ke.call(t,e)},f.prototype.set=function(e,t){return this.__data__[e]=Me&&void 0===t?O:t,this},l.prototype.clear=function(){this.__data__=[]},l.prototype.delete=function(e){var t=this.__data__,n=g(t,e);return!(n<0||(n==t.length-1?t.pop():Re.call(t,n,1),0))},l.prototype.get=function(e){var t=this.__data__,n=g(t,e);return n<0?void 0:t[n][1]},l.prototype.has=function(e){return g(this.__data__,e)>-1},l.prototype.set=function(e,t){var n=this.__data__,r=g(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},h.prototype.clear=function(){this.__data__={hash:new f,map:new(Pe||l),string:new f}},h.prototype.delete=function(e){return w(this,e).delete(e)},h.prototype.get=function(e){return w(this,e).get(e)},h.prototype.has=function(e){return w(this,e).has(e)},h.prototype.set=function(e,t){return w(this,e).set(e,t),this},p.prototype.clear=function(){this.__data__=new l},p.prototype.delete=function(e){return this.__data__.delete(e)},p.prototype.get=function(e){return this.__data__.get(e)},p.prototype.has=function(e){return this.__data__.has(e)},p.prototype.set=function(e,t){var n=this.__data__;if(n instanceof l){var r=n.__data__;if(!Pe||r.length<D-1)return r.push([e,t]),this;n=this.__data__=new h(r)}return n.set(e,t),this};var Ge=De?u(De,Object):function(){return[]},Je=function(e){return we.call(e)};(je&&Je(new je(new ArrayBuffer(1)))!=V||Pe&&Je(new Pe)!=M||Te&&Je(Te.resolve())!=z||Ue&&Je(new Ue)!=$||Fe&&Je(new Fe)!=G)&&(Je=function(e){var t=we.call(e),n=t==N?e.constructor:void 0,r=n?x(n):void 0;if(r)switch(r){case Le:return V;case Ne:return M;case ze:return z;case qe:return $;case $e:return G}return t});var Ve=Array.isArray,We=Oe||function(){return!1};n.exports=function(e){return v(e,!0,!0)}}).call(t,n(4),n(113)(e))},function(e,t,n){"use strict";e.exports="ipfs-pubsub-room/v2"},function(e,t,n){"use strict";var r=n(119),i=n(125),o=n(131);(t=e.exports=n(139)).pull=t;for(var s in r)t[s]=r[s];for(var s in o)t[s]=o[s];for(var s in i)t[s]=i[s]},function(e,t){e.exports=function(e,t,n){e(t),n&&n(!0===t?null:t)}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e,t){return function(n,i){if(n)return r(i,n,t);if(null!=e){var o=e;e=null,i(null,o)}else i(!0)}}},function(e,t,n){var r=n(9);e.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:r(e)||function(e){return e}}},function(e,t,n){"use strict";var r=n(9),i=n(22);e.exports=function(e,t){e=r(e)||function(e){return e};var n={};return i(function(r){var i=e(r);return n[i]?!!t:(n[i]=!0,!t)})}},function(e,t,n){"use strict";const r=n(7).Buffer;e.exports=(e=>{let t=e;return r.isBuffer(t)||(t=r.from(t)),t})},function(e,t,n){const r=n(44),i=n(149),o=n(3);e.exports=Object.assign(class{constructor(e={}){e.mock?this.instance=new i(e):this.instance=new r(e)}getOrbitDBAddress(){return this.instance.getOrbitDBAddress()}async start(){return await this.instance.start()}async stop(){return await this.instance.stop()}async switchType(e){return await this.instance.switchType(e)}async pin(e){return await this.instance.pin(e)}async readReviewRecord(e,t={}){return await this.instance.readReviewRecord(e,t)}async storeReviewRecord(e,t={}){return await this.instance.storeReviewRecord(e,t)}async exportData(){return await this.instance.exportData()}async importData(e){return await this.instance.importData(e)}async getVendorKeys(e){return await this.instance.getVendorKeys(e)}async publishKeys(e,t){return await this.instance.publishKeys(e,t)}},o)},function(e,t,n){const r=n(13),i=n(109),o=n(110),s=n(142),a=n(144),u=n(145),c=n(147),f=n(33),l=n(12),h=n(3),p=n(148);e.exports=Object.assign(class{constructor(e={}){this.storage=f,void 0===e.enablePersistence?this.enablePersistence=!0:this.enablePersistence=e.enablePersistence,this.directory=e.directory||this.storage.getDefaultDirectory();const t={repo:r.getDefaultRepoPath(this.directory)};if(this.orbitDbDirectory=e.orbitDbDirectory||r.getDefaultOrbitDBPath(this.directory),this.ipfsOptions=Object.assign({},h.defaultIPFSOptions,t,e.ipfs||{}),this.type=e.type,Object.values(h.types).indexOf(this.type)<0)throw new Error("Invalid type");this.events=new l,this.logger=e.logger||p,this.ipfsUtils=new r(this),this.orbitDb=new u(this),this.pinning=new i(this),this.room=new o(this),this.reviewRecords=new s(this),this.validator=new a(this),this.persistence=new c(this)}async start(){return this.logger.debug("Starting ChluIPFS, directory: "+this.directory),this.ipfs||(this.logger.debug("Initializing IPFS"),this.ipfs=await r.createIPFS(this.ipfsOptions),this.logger.debug("Initialized IPFS")),await this.orbitDb.start(),await this.room.start(),await this.persistence.loadPersistedData(),this.type!==h.types.customer||this.orbitDb.getPersonalDBAddress()||(await this.orbitDb.openPersonalOrbitDB(h.customerDbName),await this.persistence.persistData()),this.type===h.types.customer&&(await this.room.waitForAnyPeer(),this.room.broadcastReviewUpdates()),!0}async stop(){await this.persistence.persistData(),await this.orbitDb.stop(),await this.room.stop(),await this.ipfs.stop(),this.ipfs=void 0}async switchType(e){this.type!==e&&(await this.persistence.persistData(),this.type===h.types.customer&&(this.db&&await this.db.close(),this.db=void 0),this.type===h.types.service&&(this.dbs&&await Promise.all(Object.values(this.dbs).map(e=>e.close())),this.dbs={}),this.type=e,await this.persistence.loadPersistedData())}getOrbitDBAddress(){return this.orbitDb.getPersonalDBAddress()}async readReviewRecord(e,t={}){return await this.reviewRecords.readReviewRecord(e,t)}async storeReviewRecord(e,t={}){return await this.reviewRecords.storeReviewRecord(e,t)}async exportData(){const e={};return this.type===h.types.customer&&(e.customerDbKeys={pub:await this.db.keystore.exportPublicKey(),priv:await this.db.keystore.exportPrivateKey()}),e}async importData(){throw new Error("not implemented")}async getVendorKeys(){throw new Error("not implemented")}async publishKeys(){throw new Error("not implemented")}},h)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function o(e,t,n){for(var r,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(i(r));return o.join("")}t.byteLength=function(e){return 3*e.length/4-r(e)},t.toByteArray=function(e){var t,n,i,o,s,c=e.length;o=r(e),s=new u(3*c/4-o),n=o>0?c-4:c;var f=0;for(t=0;t<n;t+=4)i=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=255&i;return 2===o?(i=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[f++]=255&i):1===o&&(i=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[f++]=i>>8&255,s[f++]=255&i),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i="",a=[],u=0,c=n-r;u<c;u+=16383)a.push(o(e,u,u+16383>c?c:u+16383));return 1===r?(t=e[n-1],i+=s[t>>2],i+=s[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=s[t>>10],i+=s[t>>4&63],i+=s[t<<2&63],i+="="),a.push(i),a.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,l=c.length;f<l;++f)s[f]=c[f],a[c.charCodeAt(f)]=f;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*b}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";t.DAGNode=n(14),t.DAGLink=n(6),t.resolver=n(96),t.util=n(17)},function(e,t,n){var r=n(50);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){var r=n(7).Buffer;e.exports=function(e){function t(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.allocUnsafe(0);for(var t=[0],s=0;s<e.length;s++){var a=n[e[s]];if(void 0===a)return;for(var u=0,c=a;u<t.length;++u)c+=t[u]*i,t[u]=255&c,c>>=8;for(;c>0;)t.push(255&c),c>>=8}for(var f=0;e[f]===o&&f<e.length-1;++f)t.push(0);return r.from(t.reverse())}for(var n={},i=e.length,o=e.charAt(0),s=0;s<e.length;s++){var a=e.charAt(s);if(void 0!==n[a])throw new TypeError(a+" is ambiguous");n[a]=s}return{encode:function(t){if(0===t.length)return"";for(var n=[0],r=0;r<t.length;++r){for(var s=0,a=t[r];s<n.length;++s)a+=n[s]<<8,n[s]=a%i,a=a/i|0;for(;a>0;)n.push(a%i),a=a/i|0}for(var u="",c=0;0===t[c]&&c<t.length-1;++c)u+=o;for(var f=n.length-1;f>=0;--f)u+=e[n[f]];return u},decodeUnsafe:t,decode:function(e){var n=t(e);if(n)return n;throw new Error("Non-base"+i+" character")}}}},function(e,t,n){"use strict";t.names=Object.freeze({sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(e,t){function n(e,t,s){t=t||[];for(var a=s=s||0;e>=o;)t[s++]=255&e|r,e/=128;for(;e&i;)t[s++]=255&e|r,e>>>=7;return t[s]=0|e,n.bytes=s-a+1,t}e.exports=n;var r=128,i=-128,o=Math.pow(2,31)},function(e,t){function n(e,t){var o,s=0,a=0,u=t=t||0,c=e.length;do{if(u>=c)throw n.bytes=0,new RangeError("Could not decode varint");o=e[u++],s+=a<28?(o&i)<<a:(o&i)*Math.pow(2,a),a+=7}while(o>=r);return n.bytes=u-t,s}e.exports=n;var r=128,i=127},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<s?5:e<a?6:e<u?7:e<c?8:e<f?9:10}},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),l(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return d(i)||(i=a(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(d(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(p(t))return e.stylize(""+t,"number");if(l(t))return e.stylize(""+t,"boolean");if(h(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),v=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),m(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(k(n)){var w=n.name?": "+n.name:"";return e.stylize("[Function"+w+"]","special")}if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return e.stylize(Date.prototype.toString.call(n),"date");if(m(n))return u(n)}var S="",x=!1,E=["{","}"];if(f(n)&&(x=!0,E=["[","]"]),k(n)){S=" [Function"+(n.name?": "+n.name:"")+"]"}if(g(n)&&(S=" "+RegExp.prototype.toString.call(n)),y(n)&&(S=" "+Date.prototype.toUTCString.call(n)),m(n)&&(S=" "+u(n)),0===s.length&&(!x||0==n.length))return E[0]+S+E[1];if(r<0)return g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var A;return A=x?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)_(t,String(s))?o.push(c(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(c(e,t,n,r,i,!0))}),o}(e,n,r,v,s):s.map(function(t){return c(e,n,r,v,t,x)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(A,S,E)}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i,o){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),_(r,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(n)?a(e,c.value,null):a(e,c.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function f(e){return Array.isArray(e)}function l(e){return"boolean"==typeof e}function h(e){return null===e}function p(e){return"number"==typeof e}function d(e){return"string"==typeof e}function b(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===w(e)}function v(e){return"object"==typeof e&&null!==e}function y(e){return v(e)&&"[object Date]"===w(e)}function m(e){return v(e)&&("[object Error]"===w(e)||e instanceof Error)}function k(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var x=/%[sdj%]/g;t.format=function(e){if(!d(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(x,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])h(a)||!v(a)?s+=" "+a:s+=" "+i(a);return s},t.deprecate=function(n,i){if(b(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var E,A={};t.debuglog=function(e){if(b(E)&&(E=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(E)){var n=r.pid;A[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else A[e]=function(){};return A[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=l,t.isNull=h,t.isNullOrUndefined=function(e){return null==e},t.isNumber=p,t.isString=d,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=g,t.isObject=v,t.isDate=y,t.isError=m,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(56);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(57),t._extend=function(e,t){if(!t||!v(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(4),n(2))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";const r=n(59),i=n(60),o=n(25),s=n(64),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;e.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,256)),shake256:a(u(r.shake_256,512)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:n(67)}},function(e,t,n){(function(t,n){!function(){"use strict";function r(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function i(e,t,n){r.call(this,e,t,n)}var o="object"==typeof window?window:{};!o.JS_SHA3_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node&&(o=n);var s=!o.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,a=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),c=[4,1024,262144,67108864],f=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],p=[128,256],d=["hex","buffer","arrayBuffer","array"],b={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});for(var g=function(e,t,n){return function(i){return new r(e,t,e).update(i)[n]()}},v=function(e,t,n){return function(i,o){return new r(e,t,o).update(i)[n]()}},y=function(e,t,n){return function(t,r,i,o){return _["cshake"+e].update(t,r,i,o)[n]()}},m=function(e,t,n){return function(t,r,i,o){return _["kmac"+e].update(t,r,i,o)[n]()}},k=function(e,t,n,r){for(var i=0;i<d.length;++i){var o=d[i];e[o]=t(n,r,o)}return e},w=function(e,t){var n=g(e,t,"hex");return n.create=function(){return new r(e,t,e)},n.update=function(e){return n.create().update(e)},k(n,g,e,t)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(e,t){var n=v(e,t,"hex");return n.create=function(n){return new r(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},k(n,v,e,t)}},{name:"cshake",padding:c,bits:p,createMethod:function(e,t){var n=b[e],i=y(e,0,"hex");return i.create=function(i,o,s){return o||s?new r(e,t,i).bytepad([o,s],n):_["shake"+e].create(i)},i.update=function(e,t,n,r){return i.create(t,n,r).update(e)},k(i,y,e,t)}},{name:"kmac",padding:c,bits:p,createMethod:function(e,t){var n=b[e],r=m(e,0,"hex");return r.create=function(r,o,s){return new i(e,t,o).bytepad(["KMAC",s],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},k(r,m,e,t)}}],_={},x=[],E=0;E<S.length;++E)for(var A=S[E],C=A.bits,I=0;I<C.length;++I){var R=A.name+"_"+C[I];if(x.push(R),_[R]=A.createMethod(C[I],A.padding),"sha3"!==A.name){var D=A.name+C[I];x.push(D),_[D]=_[R]}}r.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===o.ArrayBuffer&&(e=new Uint8Array(e));var n=e.length;if(t&&("number"!=typeof n||!Array.isArray(e)&&(!a||!ArrayBuffer.isView(e))))throw"input is invalid type";for(var r,i,s=this.blocks,u=this.byteCount,c=this.blockCount,l=0,h=this.s;l<n;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(t)for(r=this.start;l<n&&r<u;++l)s[r>>2]|=e[l]<<f[3&r++];else for(r=this.start;l<n&&r<u;++l)(i=e.charCodeAt(l))<128?s[r>>2]|=i<<f[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<f[3&r++],s[r>>2]|=(128|63&i)<<f[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<f[3&r++],s[r>>2]|=(128|i>>6&63)<<f[3&r++],s[r>>2]|=(128|63&i)<<f[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),s[r>>2]|=(240|i>>18)<<f[3&r++],s[r>>2]|=(128|i>>12&63)<<f[3&r++],s[r>>2]|=(128|i>>6&63)<<f[3&r++],s[r>>2]|=(128|63&i)<<f[3&r++]);if(this.lastByteIndex=r,r>=u){for(this.start=r-u,this.block=s[c],r=0;r<c;++r)h[r]^=s[r];O(h),this.reset=!0}else this.start=r}return this},r.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},r.prototype.encodeString=function(e){var t="string"!=typeof(e=e||"");t&&e.constructor===o.ArrayBuffer&&(e=new Uint8Array(e));var n=e.length;if(t&&("number"!=typeof n||!Array.isArray(e)&&(!a||!ArrayBuffer.isView(e))))throw"input is invalid type";var r=0;if(t)r=n;else for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),r+=4)}return r+=this.encode(8*r),this.update(e),r},r.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,o=[];return o.length=i,this.update(o),this},r.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];O(r)},r.prototype.toString=r.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<r;){for(o=0;o<t&&s<r;++o,++s)e=n[o],a+=u[e>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];s%t==0&&(O(n),o=0)}return i&&(e=n[o],i>0&&(a+=u[e>>4&15]+u[15&e]),i>1&&(a+=u[e>>12&15]+u[e>>8&15]),i>2&&(a+=u[e>>20&15]+u[e>>16&15])),a},r.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<r;){for(o=0;o<t&&s<r;++o,++s)u[s]=n[o];s%t==0&&O(n)}return i&&(u[o]=n[o],e=e.slice(0,a)),e},r.prototype.buffer=r.prototype.arrayBuffer,r.prototype.digest=r.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<n&&a<i;++s,++a)e=a<<2,t=r[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n==0&&O(r)}return o&&(e=a<<2,t=r[s],o>0&&(u[e]=255&t),o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},(i.prototype=new r).finalize=function(){return this.encode(this.outputBits,!0),r.prototype.finalize.call(this)};var O=function(e){var t,n,r,i,o,s,a,u,c,f,h,p,d,b,g,v,y,m,k,w,S,_,x,E,A,C,I,R,D,O,B,j,P,T,U,F,M,L,N,z,q,$,H,Y,G,J,V,W,K,Z,X,Q,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(p=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|c>>>31),n=o^(c<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(f<<1|h>>>31),n=a^(h<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(p<<1|d>>>31),n=c^(d<<1|p>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|o>>>31),n=h^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,b=e[0],g=e[1],J=e[11]<<4|e[10]>>>28,V=e[10]<<4|e[11]>>>28,R=e[20]<<3|e[21]>>>29,D=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,$=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,T=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,K=e[23]<<10|e[22]>>>22,O=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,m=e[25]<<11|e[24]>>>21,k=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,j=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,N=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,S=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,Y=e[8]<<27|e[9]>>>5,G=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,x=e[49]<<14|e[48]>>>18,e[0]=b^~v&m,e[1]=g^~y&k,e[10]=E^~C&R,e[11]=A^~I&D,e[20]=T^~F&L,e[21]=U^~M&N,e[30]=Y^~J&W,e[31]=G^~V&K,e[40]=te^~re&oe,e[41]=ne^~ie&se,e[2]=v^~m&w,e[3]=y^~k&S,e[12]=C^~R&O,e[13]=I^~D&B,e[22]=F^~L&z,e[23]=M^~N&q,e[32]=J^~W&Z,e[33]=V^~K&X,e[42]=re^~oe&ae,e[43]=ie^~se&ue,e[4]=m^~w&_,e[5]=k^~S&x,e[14]=R^~O&j,e[15]=D^~B&P,e[24]=L^~z&$,e[25]=N^~q&H,e[34]=W^~Z&Q,e[35]=K^~X&ee,e[44]=oe^~ae&ce,e[45]=se^~ue&fe,e[6]=w^~_&b,e[7]=S^~x&g,e[16]=O^~j&E,e[17]=B^~P&A,e[26]=z^~$&T,e[27]=q^~H&U,e[36]=Z^~Q&Y,e[37]=X^~ee&G,e[46]=ae^~ce&te,e[47]=ue^~fe&ne,e[8]=_^~b&v,e[9]=x^~g&y,e[18]=j^~E&C,e[19]=P^~A&I,e[28]=$^~T&F,e[29]=H^~U&M,e[38]=Q^~Y&J,e[39]=ee^~G&V,e[48]=ce^~te&re,e[49]=fe^~ne&ie,e[0]^=l[r],e[1]^=l[r+1]};if(s)e.exports=_;else for(E=0;E<x.length;++E)o[x[E]]=_[x[E]]}()}).call(t,n(2),n(4))},function(e,t,n){e.exports=n(61)},function(e,t,n){!function(n,r){"use strict";function i(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function o(e,t){return e<<t|e>>>32-t}function s(e){return e^=e>>>16,e=i(e,2246822507),e^=e>>>13,e=i(e,3266489909),e^=e>>>16}function a(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function f(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function l(e,t){return[e[0]^t[0],e[1]^t[1]]}function h(e){return e=l(e,[0,e[0]>>>1]),e=u(e,[4283543511,3981806797]),e=l(e,[0,e[0]>>>1]),e=u(e,[3301882366,444984403]),e=l(e,[0,e[0]>>>1])}var p={version:"3.0.1",x86:{},x64:{}};p.x86.hash32=function(e,t){e=e||"",t=t||0;for(var n=e.length%4,r=e.length-n,a=t,u=0,c=0;c<r;c+=4)a=i(a=o(a^=u=i(u=o(u=i(u=255&e.charCodeAt(c)|(255&e.charCodeAt(c+1))<<8|(255&e.charCodeAt(c+2))<<16|(255&e.charCodeAt(c+3))<<24,3432918353),15),461845907),13),5)+3864292196;switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:a^=u=i(u=o(u=i(u^=255&e.charCodeAt(c),3432918353),15),461845907)}return a^=e.length,(a=s(a))>>>0},p.x86.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,r=e.length-n,a=t,u=t,c=t,f=t,l=0,h=0,p=0,d=0,b=2869860233,g=2716044179,v=0;v<r;v+=16)l=255&e.charCodeAt(v)|(255&e.charCodeAt(v+1))<<8|(255&e.charCodeAt(v+2))<<16|(255&e.charCodeAt(v+3))<<24,h=255&e.charCodeAt(v+4)|(255&e.charCodeAt(v+5))<<8|(255&e.charCodeAt(v+6))<<16|(255&e.charCodeAt(v+7))<<24,p=255&e.charCodeAt(v+8)|(255&e.charCodeAt(v+9))<<8|(255&e.charCodeAt(v+10))<<16|(255&e.charCodeAt(v+11))<<24,d=255&e.charCodeAt(v+12)|(255&e.charCodeAt(v+13))<<8|(255&e.charCodeAt(v+14))<<16|(255&e.charCodeAt(v+15))<<24,a=o(a^=l=i(l=o(l=i(l,597399067),15),b),19),a=i(a+=u,5)+1444728091,u=o(u^=h=i(h=o(h=i(h,b),16),951274213),17),u=i(u+=c,5)+197830471,c=o(c^=p=i(p=o(p=i(p,951274213),17),g),15),c=i(c+=f,5)+2530024501,f=o(f^=d=i(d=o(d=i(d,g),18),597399067),13),f=i(f+=a,5)+850148119;switch(l=0,h=0,p=0,d=0,n){case 15:d^=e.charCodeAt(v+14)<<16;case 14:d^=e.charCodeAt(v+13)<<8;case 13:f^=d=i(d=o(d=i(d^=e.charCodeAt(v+12),g),18),597399067);case 12:p^=e.charCodeAt(v+11)<<24;case 11:p^=e.charCodeAt(v+10)<<16;case 10:p^=e.charCodeAt(v+9)<<8;case 9:c^=p=i(p=o(p=i(p^=e.charCodeAt(v+8),951274213),17),g);case 8:h^=e.charCodeAt(v+7)<<24;case 7:h^=e.charCodeAt(v+6)<<16;case 6:h^=e.charCodeAt(v+5)<<8;case 5:u^=h=i(h=o(h=i(h^=e.charCodeAt(v+4),b),16),951274213);case 4:l^=e.charCodeAt(v+3)<<24;case 3:l^=e.charCodeAt(v+2)<<16;case 2:l^=e.charCodeAt(v+1)<<8;case 1:a^=l=i(l=o(l=i(l^=e.charCodeAt(v),597399067),15),b)}return a^=e.length,u^=e.length,c^=e.length,f^=e.length,a+=u,a+=c,a+=f,u+=a,c+=a,f+=a,a=s(a),u=s(u),c=s(c),f=s(f),a+=u,a+=c,a+=f,u+=a,c+=a,f+=a,("00000000"+(a>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},p.x64.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,r=e.length-n,i=[0,t],o=[0,t],s=[0,0],p=[0,0],d=[2277735313,289559509],b=[1291169091,658871167],g=0;g<r;g+=16)s=[255&e.charCodeAt(g+4)|(255&e.charCodeAt(g+5))<<8|(255&e.charCodeAt(g+6))<<16|(255&e.charCodeAt(g+7))<<24,255&e.charCodeAt(g)|(255&e.charCodeAt(g+1))<<8|(255&e.charCodeAt(g+2))<<16|(255&e.charCodeAt(g+3))<<24],p=[255&e.charCodeAt(g+12)|(255&e.charCodeAt(g+13))<<8|(255&e.charCodeAt(g+14))<<16|(255&e.charCodeAt(g+15))<<24,255&e.charCodeAt(g+8)|(255&e.charCodeAt(g+9))<<8|(255&e.charCodeAt(g+10))<<16|(255&e.charCodeAt(g+11))<<24],i=a(u(i=a(i=c(i=l(i,s=u(s=c(s=u(s,d),31),b)),27),o),[0,5]),[0,1390208809]),o=a(u(o=a(o=c(o=l(o,p=u(p=c(p=u(p,b),33),d)),31),i),[0,5]),[0,944331445]);switch(s=[0,0],p=[0,0],n){case 15:p=l(p,f([0,e.charCodeAt(g+14)],48));case 14:p=l(p,f([0,e.charCodeAt(g+13)],40));case 13:p=l(p,f([0,e.charCodeAt(g+12)],32));case 12:p=l(p,f([0,e.charCodeAt(g+11)],24));case 11:p=l(p,f([0,e.charCodeAt(g+10)],16));case 10:p=l(p,f([0,e.charCodeAt(g+9)],8));case 9:o=l(o,p=u(p=c(p=u(p=l(p,[0,e.charCodeAt(g+8)]),b),33),d));case 8:s=l(s,f([0,e.charCodeAt(g+7)],56));case 7:s=l(s,f([0,e.charCodeAt(g+6)],48));case 6:s=l(s,f([0,e.charCodeAt(g+5)],40));case 5:s=l(s,f([0,e.charCodeAt(g+4)],32));case 4:s=l(s,f([0,e.charCodeAt(g+3)],24));case 3:s=l(s,f([0,e.charCodeAt(g+2)],16));case 2:s=l(s,f([0,e.charCodeAt(g+1)],8));case 1:i=l(i,s=u(s=c(s=u(s=l(s,[0,e.charCodeAt(g)]),d),31),b))}return i=l(i,[0,e.length]),o=l(o,[0,e.length]),i=a(i,o),o=a(o,i),i=h(i),o=h(o),i=a(i,o),o=a(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)},void 0!==e&&e.exports&&(t=e.exports=p),t.murmurHash3=p}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(26));t.default=r.default,e.exports=t.default},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){delete a[e]}function i(e){if(u)setTimeout(i,0,e);else{var t=a[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var o,s=1,a={},u=!1,c=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){i(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),o=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},o=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;o=function(t){var n=c.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():o=function(e){setTimeout(i,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return a[s]=r,o(s),s++},f.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(4),n(2))},function(e,t,n){"use strict";(function(t){function r(e){if(!o)throw new Error("Please use a browser with webcrypto support");return(n,r)=>{const s=o.digest({name:e},n);if("function"!=typeof s.then)return s.onerror=(()=>{r(`Error hashing data using ${e}`)}),void(s.oncomplete=(e=>{r(null,e.target.result)}));i(s.then(e=>new t(new Uint8Array(e))),r)}}const i=n(65),o=self.crypto?self.crypto.subtle||self.crypto.webkitSubtle:self.msCrypto?self.msCrypto.subtle:void 0;e.exports={sha1:function(e,t){r("SHA-1")(e,t)},sha2256:function(e,t){r("SHA-256")(e,t)},sha2512:function(e,t){r("SHA-512")(e,t)}}}).call(t,n(0).Buffer)},function(e,t,n){(function(t,r){function i(e,t){return"function"!=typeof t?e:e.then(function(e){u(function(){t(null,e)})},function(e){u(function(){t(e)})})}function o(e){return i(this,e)}function s(e){if(e&&f(e)){e.nodeify=o;var t=e.then;return e.then=function(){return s(t.apply(this,arguments))},e}"function"==typeof e?e.prototype.nodeify=o:c.prototype.nodeify=o}function a(e){if(!(this instanceof a))return new a(e);c.call(this,e),s(this)}var u,c=n(66),f=n(27);u="function"==typeof t?t:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)},e.exports=i,i.extend=s,i.Promise=a,(a.prototype=Object.create(c.prototype)).constructor=a}).call(t,n(15).setImmediate,n(2))},function(e,t,n){(function(t){function r(e){function t(e){c.length?(f=!0,c.shift()(e||!1)):f=!1}if(!(this instanceof r))return"function"==typeof e?new r(e):function(){var e,t=new r(function(t){e=t});return{resolver:e,promise:t}}();var n,a=!1,u=!1,c=[],f=!1;this.then=function(e,o){return new r(function(r){c.push(function(s){var a=u?e:o;if("function"==typeof a){function c(){var e;try{e=a(n)}catch(e){return r.reject(e),t()}r.fulfill(e),t(!0)}s?c():i(c)}else u?(r.fulfill(n),t(s)):(r.reject(n),t(s))}),a&&!f&&t()})},function(){function r(e){a||(o(e)?e.then(r,i):(a=u=!0,n=e,t()))}function i(e){a||(a=!0,u=!1,n=e,t())}for(var c={fulfill:r,reject:i},f=0;f<s.length;f++)s[f](this,c);if("function"==typeof e)try{e(c)}catch(e){c.reject(e)}}()}var i,o=n(27);i="function"==typeof setImediate?setImediate:"object"==typeof t&&t&&t.nextTick?t.nextTick:function(e){setTimeout(e,0)};var s=[];e.exports=r,r.use=function(e){s.push(e)}}).call(t,n(2))},function(e,t,n){"use strict";(function(t){const r=n(68),i=n(25).toCallback,o={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},s={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,n)=>i(r=>{const i=n.init(e,null);return n.update(i,r),t.from(n.digest(i))});e.exports=(e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,o);for(let t=0;t<32;t++)e[45633+t]=a(t+1,s)})}).call(t,n(0).Buffer)},function(e,t,n){var r=n(69),i=n(70);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(e,t,n){function r(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function i(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,o,s,a){var u=g[s],c=g[s+1],f=g[a],l=g[a+1];r(b,e,t),i(b,e,u,c);var h=b[o]^b[e],p=b[o+1]^b[e+1];b[o]=p,b[o+1]=h,r(b,n,o),h=b[t]^b[n],p=b[t+1]^b[n+1],b[t]=h>>>24^p<<8,b[t+1]=p>>>24^h<<8,r(b,e,t),i(b,e,f,l),h=b[o]^b[e],p=b[o+1]^b[e+1],b[o]=h>>>16^p<<16,b[o+1]=p>>>16^h<<16,r(b,n,o),h=b[t]^b[n],p=b[t+1]^b[n+1],b[t]=p>>>31^h<<1,b[t+1]=h>>>31^p<<1}function a(e,t){var n=0;for(n=0;n<16;n++)b[n]=e.h[n],b[n+16]=p[n];for(b[24]=b[24]^e.t,b[25]=b[25]^e.t/4294967296,t&&(b[28]=~b[28],b[29]=~b[29]),n=0;n<32;n++)g[n]=o(e.b,4*n);for(n=0;n<12;n++)s(0,8,16,24,d[16*n+0],d[16*n+1]),s(2,10,18,26,d[16*n+2],d[16*n+3]),s(4,12,20,28,d[16*n+4],d[16*n+5]),s(6,14,22,30,d[16*n+6],d[16*n+7]),s(0,10,20,30,d[16*n+8],d[16*n+9]),s(2,12,22,24,d[16*n+10],d[16*n+11]),s(4,14,16,26,d[16*n+12],d[16*n+13]),s(6,8,18,28,d[16*n+14],d[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^b[n]^b[n+16]}function u(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=p[r];var i=t?t.length:0;return n.h[0]^=16842752^i<<8^e,t&&(c(n,t),n.c=128),n}function c(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,a(e,!1),e.c=0),e.b[e.c++]=t[n]}function f(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;a(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function l(e,t,n){n=n||64,e=h.normalizeInput(e);var r=u(n,t);return c(r,e),f(r)}var h=n(28),p=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),d=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),b=new Uint32Array(32),g=new Uint32Array(32);e.exports={blake2b:l,blake2bHex:function(e,t,n){var r=l(e,t,n);return h.toHex(r)},blake2bInit:u,blake2bUpdate:c,blake2bFinal:f}},function(e,t,n){function r(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function i(e,t,n,r,i,s){d[e]=d[e]+d[t]+i,d[r]=o(d[r]^d[e],16),d[n]=d[n]+d[r],d[t]=o(d[t]^d[n],12),d[e]=d[e]+d[t]+s,d[r]=o(d[r]^d[e],8),d[n]=d[n]+d[r],d[t]=o(d[t]^d[n],7)}function o(e,t){return e>>>t^e<<32-t}function s(e,t){var n=0;for(n=0;n<8;n++)d[n]=e.h[n],d[n+8]=h[n];for(d[12]^=e.t,d[13]^=e.t/4294967296,t&&(d[14]=~d[14]),n=0;n<16;n++)b[n]=r(e.b,4*n);for(n=0;n<10;n++)i(0,4,8,12,b[p[16*n+0]],b[p[16*n+1]]),i(1,5,9,13,b[p[16*n+2]],b[p[16*n+3]]),i(2,6,10,14,b[p[16*n+4]],b[p[16*n+5]]),i(3,7,11,15,b[p[16*n+6]],b[p[16*n+7]]),i(0,5,10,15,b[p[16*n+8]],b[p[16*n+9]]),i(1,6,11,12,b[p[16*n+10]],b[p[16*n+11]]),i(2,7,8,13,b[p[16*n+12]],b[p[16*n+13]]),i(3,4,9,14,b[p[16*n+14]],b[p[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=d[n]^d[n+8]}function a(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(h),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(u(r,t),r.c=64),r}function u(e,t){for(var n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,s(e,!1),e.c=0),e.b[e.c++]=t[n]}function c(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;s(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function f(e,t,n){n=n||32,e=l.normalizeInput(e);var r=a(n,t);return u(r,e),c(r)}var l=n(28),h=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),p=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),d=new Uint32Array(16),b=new Uint32Array(16);e.exports={blake2s:f,blake2sHex:function(e,t,n){var r=f(e,t,n);return l.toHex(r)},blake2sInit:a,blake2sUpdate:u,blake2sFinal:c}},function(e,t,n){!function(){function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var n=e.length;if(n<=1)return e;for(var i=new Array(n),o=1;o<n;o*=2){r(e,t,o,i);var s=e;e=i,i=s}return e}var n=function(e,n){return t(e.slice(),n)};n.inplace=function(e,n){var i=t(e,n);return i!==e&&r(i,null,e.length,e),e};var r=function(e,t,n,r){var i,o,s,a,u,c=e.length,f=0,l=2*n;for(i=0;i<c;i+=l)for(s=(o=i+n)+n,o>c&&(o=c),s>c&&(s=c),a=i,u=o;;)if(a<o&&u<s)t(e[a],e[u])<=0?r[f++]=e[a++]:r[f++]=e[u++];else if(a<o)r[f++]=e[a++];else{if(!(u<s))break;r[f++]=e[u++]}};e.exports=n}()},function(e,t,n){"use strict";(function(t){const r=n(5),i=n(73),o=n(78),s=n(18),a=n(29),u=n(5);class c{constructor(e,n,s){if(c.isCID(e)){let n=e;return this.version=n.version,this.codec=n.codec,void(this.multihash=t.from(n.multihash))}if("string"==typeof e)if(i.isEncoded(e)){const t=i.decode(e);e=parseInt(t.slice(0,1).toString("hex"),16),n=o.getCodec(t.slice(1)),s=o.rmPrefix(t.slice(1))}else n="dag-pb",s=r.fromB58String(e),e=0;else if(t.isBuffer(e)){const t=e.slice(0,1),r=parseInt(t.toString("hex"),16);if(0===r||1===r){const t=e;e=r,n=o.getCodec(t.slice(1)),s=o.rmPrefix(t.slice(1))}else n="dag-pb",s=e,e=0}this.codec=n,this.version=e,this.multihash=s,c.validateCID(this)}get buffer(){switch(this.version){case 0:return this.multihash;case 1:return t.concat([t.from("01","hex"),t.from(a[this.codec]),this.multihash]);default:throw new Error("unsupported version")}}get prefix(){return t.concat([t.from(`0${this.version}`,"hex"),a[this.codec],u.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");return new c(0,this.codec,this.multihash)}toV1(){return new c(1,this.codec,this.multihash)}toBaseEncodedString(e){switch(e=e||"base58btc",this.version){case 0:if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");return r.toB58String(this.multihash);case 1:return i.encode(e,this.buffer).toString();default:throw new Error("Unsupported version")}}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&this.multihash.equals(e.multihash)}static isCID(e){try{c.validateCID(e)}catch(e){return!1}return!0}static validateCID(e){if(null==e)throw new Error("null values are not valid CIDs");if(0!==e.version&&1!==e.version)throw new Error("Invalid version, must be a number equal to 1 or 0");if("string"!=typeof e.codec)throw new Error("codec must be string");if(!t.isBuffer(e.multihash))throw new Error("multihash must be a Buffer");r.validate(e.multihash)}}c.codecs=s,e.exports=c}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(r){function i(e,t){if(!t)throw new Error("requires an encoded buffer");const n=o(e),i=new r(n.code);return function(e,t){o(e).decode(t.toString())}(n.name,t),r.concat([i,t])}function o(e){let t;if(s.names[e])t=s.names[e];else{if(!s.codes[e])throw a;t=s.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}const s=n(74);(t=e.exports=i).encode=function(e,t){const n=o(e);return i(n.name,new r(n.encode(t)))},t.decode=function(e){r.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=new r(e));const n=o(t);return n.name,new r(n.decode(e.toString()))},t.isEncoded=function(e){r.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);try{return o(t).name}catch(e){return!1}};const a=new Error("Unsupported encoding")}).call(t,n(0).Buffer)},function(e,t,n){"use strict";const r=n(75),i=n(76),o=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",n(77),"0123456789abcdef"],["base32hex","v",i,"0123456789abcdefghijklmnopqrstuv"],["base32","b",i,"abcdefghijklmnopqrstuvwxyz234567"],["base32z","h",i,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",i,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64url","u",i,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"]],s=o.reduce((e,t)=>(e[t[0]]=new r(t[0],t[1],t[2],t[3]),e),{}),a=o.reduce((e,t)=>(e[t[1]]=s[t[0]],e),{});e.exports={names:s,codes:a}},function(e,t,n){"use strict";e.exports=class{constructor(e,t,n,r){this.name=e,this.code=t,this.alphabet=r,n&&r&&(this.engine=n(r))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},function(e,t,n){(function(t){e.exports=function(e){function n(e){if(0===e.length)return t.allocUnsafe(0);for(var n=[0],s=0;s<e.length;s++){var a=r[e[s]];if(void 0===a)return;for(var u=0,c=a;u<n.length;++u)c+=n[u]*i,n[u]=255&c,c>>=8;for(;c>0;)n.push(255&c),c>>=8}for(var f=0;e[f]===o&&f<e.length-1;++f)n.push(0);return t.from(n.reverse())}for(var r={},i=e.length,o=e.charAt(0),s=0;s<e.length;s++){var a=e.charAt(s);if(void 0!==r[a])throw new TypeError(a+" is ambiguous");r[a]=s}return{encode:function(t){if(0===t.length)return"";for(var n=[0],r=0;r<t.length;++r){for(var o=0,s=t[r];o<n.length;++o)s+=n[o]<<8,n[o]=s%i,s=s/i|0;for(;s>0;)n.push(s%i),s=s/i|0}for(var a="",u=0;0===t[u]&&u<t.length-1;++u)a+=e[0];for(var c=n.length-1;c>=0;--c)a+=e[n[c]];return a},decodeUnsafe:n,decode:function(e){var t=n(e);if(t)return t;throw new Error("Non-base"+i+" character")}}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){e.exports=function(e){return{encode:e=>"string"==typeof e?new t(e).toString("hex"):e.toString("hex"),decode(n){for(let t of n)if(e.indexOf(t)<0)throw new Error("invalid base16 character");return new t(n,"hex")}}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(r){const i=n(1),o=n(29),s=n(79),a=n(30);(t=e.exports).addPrefix=((e,t)=>{let n;if(r.isBuffer(e))n=a.varintBufferEncode(e);else{if(!o[e])throw new Error("multicodec not recognized");n=o[e]}return r.concat([n,t])}),t.rmPrefix=(e=>(i.decode(e),e.slice(i.decode.bytes))),t.getCodec=(e=>{const t=a.varintBufferDecode(e);return s[t.toString("hex")]})}).call(t,n(0).Buffer)},function(e,t,n){"use strict";const r=n(18),i={};e.exports=i;for(let e in r){i[r[e].toString("hex")]=e}},function(e,t,n){var r=n(81),i=n(83);e.exports=r,e.exports.parse=r,e.exports.stringify=i},function(e,t,n){var r=n(82),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],o=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var n=e.shift();if("("===n&&(n=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[n]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},s=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var n=e.shift();t.required="required"===n,t.repeated="repeated"===n,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=o(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(s(e));break;case"enum":t.enums.push(d(e));break;case"message":t.messages.push(f(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var n=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var r=s(e);r.oneof=n,t.fields.push(r)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(s(e))}return t},u=function(e){return{name:e[1],message:f(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=e.shift();if("max"===n&&(n=536870911),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:n}},f=function(e){e.shift();var t=1,n=[],r={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),n=a(n),r.enums=n.enums,r.messages=n.messages,r.fields=n.fields,r.extends=n.extends,r.extensions=n.extensions,r;n.push(e.shift())}if(t)throw new Error("No closing tag for message")},l=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var n={value:null,options:{}};return n.value=Number(e.shift()),"["===e[0]&&(n.options=o(e)),e.shift(),{name:t,val:n}},d=function(e){e.shift();var t={},n={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),n;if("option"!==e[0]){var r=p(e);n.values[r.name]=r.val}else t=b(e),n.options[t.name]=t.value}throw new Error("No closing tag for enum")},b=function(e){for(var t=null,n=null,r=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:n};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(n=r(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(n))throw new Error("Unexpected value for option optimize_for: "+n);"{"===n&&(n=g(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},g=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},n={};e.length;){if("}"===e[0])return e.shift(),n;var r="("===e[0];r&&e.shift();var i=e.shift();if(r){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var o=null;switch(e[0]){case":":if(void 0!==n[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(o=t(e.shift()))&&(o=g(e)),n[i]=o,";"===e[0]&&e.shift();break;case"{":if(e.shift(),o=g(e),void 0===n[i]&&(n[i]=[]),!Array.isArray(n[i]))throw new Error("Duplicate option map key "+i);n[i].push(o);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},v=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var n=b(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value;break;case"rpc":t.methods.push(m(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},m=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var n=b(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=r(e.toString()),n=0;n<t.length;n++)if(/^("|')([^'"]*)$/.test(t[n])){var o;for(o=1===t[n].length?n+1:n;o<t.length;o++)if(/^([^'"]*)("|')$/.test(t[o])){t=t.slice(0,n).concat(t.slice(n,o+1).join("")).concat(t.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":s.package=l(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=h(t);break;case"message":s.messages.push(f(t));break;case"enum":s.enums.push(d(t));break;case"option":var c=b(t);if(s.options[c.name])throw new Error("Duplicate option "+c.name);s.options[c.name]=c.value;break;case"import":s.imports.push(v(t));break;case"extend":s.extends.push(u(t));break;case"service":s.services||(s.services=[]),s.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return s.extends.forEach(function(e){s.messages.forEach(function(t){t.name===e.name&&e.message.fields.forEach(function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)})})}),s.messages.forEach(function(e){e.fields.forEach(function(t){function n(e){return e.name===t.type}function r(e){return e.name===u}var o,a,u,c;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some(n))return}else{if((o=t.type.split(".")).length>2)throw new Error("what is this?");if(a=o[0],u=o[1],s.messages.some(function(e){if(e.name===a)return c=e,e}),c&&c.enums&&c.enums.some(r))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),s}},function(e,t){e.exports=function(e){var t=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(t).filter(Boolean).map(function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e}).map(t).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter(function(){var e=!1;return function(t){return"/*"===t?(e=!0,!1):"*/"===t?(e=!1,!1):!e}}())}},function(e,t){var n=function(e,t){var n=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(n="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(n="");var r=Object.keys(e.options||{}).map(function(t){return t+" = "+e.options[t]}).join(",");return r&&(r=" ["+r+"]"),t.push((n?n+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+r+";"),t},r=function(e,t){t.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach(function(e){t.push(i(e,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(e){t.push(r(e,[]))});var o={};return e.fields||(e.fields=[]),e.fields.forEach(function(e){e.oneof?(o[e.oneof]||(o[e.oneof]=[]),o[e.oneof].push(n(e,[]))):t.push(n(e,[]))}),Object.keys(o).forEach(function(e){o[e].unshift("oneof "+e+" {"),o[e].push("}"),t.push(o[e])}),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var n=s(e.options,[]);return n.length>1&&t.push(n.slice(0,-1)),Object.keys(e.values).map(function(n){var r=o(e.values[n]);t.push([n+" = "+r+";"])}),t.push("}",""),t},o=function(e,t){var n=Object.keys(e.options||{}).map(function(t){return t+" = "+e.options[t]}).join(",");n&&(n=" ["+n+"]");return e.value+n},s=function(e,t){var n=Object.keys(e);return n.forEach(function(n){var r=e[n];~n.indexOf(".")&&(n="("+n+")");var i=typeof r;"object"===i?(r=a(r,[])).length&&t.push("option "+n+" = {",r,"};"):("string"===i&&"optimize_for"!==n&&(r='"'+r+'"'),t.push("option "+n+" = "+r+";"))}),n.length>0&&t.push(""),t},a=function(e,t){return Object.keys(e).forEach(function(n){var r=e[n],i=typeof r;"object"===i?Array.isArray(r)?r.forEach(function(e){(e=a(e,[])).length&&t.push(n+" {",e,"}")}):(r=a(r,[])).length&&t.push(n+" {",r,"}"):("string"===i&&(r='"'+r+'"'),t.push(n+": "+r))}),t},u=function(e,t){var n="rpc "+e.name+"(";e.client_streaming&&(n+="stream "),n+=e.input_type+") returns (",e.server_streaming&&(n+="stream "),n+=e.output_type+")",e.options||(e.options={});var r=s(e.options,[]);return r.length>1?t.push(n+" {",r.slice(0,-1),"}"):t.push(n+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),s(e.options,t),e.enums||(e.enums=[]),e.enums.forEach(function(e){i(e,t)}),e.messages||(e.messages=[]),e.messages.forEach(function(e){r(e,t)}),e.services&&e.services.forEach(function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),s(e.options,t),e.methods||(e.methods=[]),e.methods.forEach(function(e){t.push(u(e,[]))}),t.push("}","")}(e,t)}),t.map(c("")).join("\n")}},function(e,t,n){"use strict";var r=n(85),i=n(87),o=n(88),s=n(89),a=n(1);e.exports=function(e,t){var n={},u={},c={},f=function(e,t){e.enums&&e.enums.forEach(function(e){e.id=t+(t?".":"")+e.name,u[e.id]=e,f(e,e.id)}),e.messages&&e.messages.forEach(function(r){r.id=t+(t?".":"")+r.name,n[r.id]=r,r.fields.forEach(function(r){if(r.map){var i="Map_"+r.map.from+"_"+r.map.to,o={name:i,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+i};n[o.id]||(n[o.id]=o,e.messages.push(o)),r.type=i,r.repeated=!0}}),f(r,r.id)})};f(e,"");var l=function(e,t){e.messages.forEach(function(n){t[n.name]=h(n.name,e.id)}),e.enums.forEach(function(e){t[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach(function(n){t[n]=e[n].value}),t}(e.values)}),t.type=2,t.message=!0,t.name=e.name;var n={};e.fields.forEach(function(e){e.oneof&&(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(e.name))});var r=e.fields.map(function(t){return h(t.type,e.id)}),a=s(e,r,n),u=o(e,h,r,n,a),c=i(e,h,r);return u.bytes=c.bytes=0,t.buffer=!0,t.encode=u,t.decode=c,t.encodingLength=a,t},h=function(e,i,o){if(t&&t[e])return t[e];if(r[e])return r[e];var s=(i?i+"."+e:e).split(".").map(function(t,n,r){return r.slice(0,n).concat(e).join(".")}).reverse().reduce(function(e,t){return e||n[t]||u[t]},null);if(!1===o)return s;if(!s)throw new Error("Could not resolve "+e);if(s.values)return function(e){var t=Object.keys(e.values||[]).map(function(t){return parseInt(e.values[t].value,10)});return r.make(0,function e(n,r,i){if(!t.length||-1===t.indexOf(n))throw new Error("Invalid enum value: "+n);return a.encode(n,r,i),e.bytes=a.encode.bytes,r},function e(n,r){var i=a.decode(n,r);if(!t.length||-1===t.indexOf(i))throw new Error("Invalid enum value: "+i);return e.bytes=a.decode.bytes,i},a.encodingLength)}(s);return c[s.id]||l(s,c[s.id]={})};return(e.enums||[]).concat((e.messages||[]).map(function(e){return h(e.id)}))}},function(e,t,n){"use strict";var r=n(1),i=n(86),o=n(7).Buffer,s=function(e,t,n,r){return t.bytes=n.bytes=0,{type:e,encode:t,decode:n,encodingLength:r}};t.make=s,t.bytes=function(e){var t=function(e){return o.isBuffer(e)?e.length:o.byteLength(e)},n=function(e,i,s){var a=s,u=t(e);return r.encode(u,i,s),s+=r.encode.bytes,o.isBuffer(e)?e.copy(i,s):i.write(e,s,u),s+=u,n.bytes=s-a,i},i=function(e,t){var n=t,o=r.decode(e,t);t+=r.decode.bytes;var s=e.slice(t,t+o);return t+=s.length,i.bytes=t-n,s};return s(2,n,i,function(e){var n=t(e);return r.encodingLength(n)+n})}(),t.string=function(){var e=function(t,n,i){var s=i,a=o.byteLength(t);return r.encode(a,n,i,"utf-8"),i+=r.encode.bytes,n.write(t,i,a),i+=a,e.bytes=i-s,n},t=function(e,n){var i=n,o=r.decode(e,n);n+=r.decode.bytes;var s=e.toString("utf-8",n,n+o);return n+=o,t.bytes=n-i,s};return s(2,e,t,function(e){var t=o.byteLength(e);return r.encodingLength(t)+t})}(),t.bool=function(){var e=function(t,n,r){return n[r]=t?1:0,e.bytes=1,n},t=function(e,n){var r=e[n]>0;return t.bytes=1,r};return s(0,e,t,function(e){return 1})}(),t.int32=function(){var e=function(t,n){var i=r.decode(t,n);return e.bytes=r.decode.bytes,i>2147483647?i-4294967296:i};return s(0,r.encode,e,function(e){return r.encodingLength(e<0?e+4294967296:e)})}(),t.int64=function(){var e=function(t,n){var i=r.decode(t,n);if(i>=Math.pow(2,63)){for(var s=9;255===t[n+s-1];)s--;s=s||9;var a=o.allocUnsafe(s);t.copy(a,0,n,n+s),a[s-1]=127&a[s-1],i=-1*r.decode(a,0),e.bytes=10}else e.bytes=r.decode.bytes;return i},t=function(e,n,i){if(e<0){var o=i+9;for(r.encode(-1*e,n,i),n[i+=r.encode.bytes-1]=128|n[i];i<o-1;)n[++i]=255;n[o]=1,t.bytes=10}else r.encode(e,n,i),t.bytes=r.encode.bytes;return n};return s(0,t,e,function(e){return e<0?10:r.encodingLength(e)})}(),t.sint32=t.sint64=s(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=s(0,r.encode,r.decode,r.encodingLength),t.fixed64=t.sfixed64=function(){var e=function(t,n,r){return t.copy(n,r),e.bytes=8,n},t=function(e,n){var r=e.slice(n,n+8);return t.bytes=8,r};return s(1,e,t,function(e){return 8})}(),t.double=function(){var e=function(t,n,r){return n.writeDoubleLE(t,r),e.bytes=8,n},t=function(e,n){var r=e.readDoubleLE(n);return t.bytes=8,r};return s(1,e,t,function(e){return 8})}(),t.fixed32=function(){var e=function(t,n,r){return n.writeUInt32LE(t,r),e.bytes=4,n},t=function(e,n){var r=e.readUInt32LE(n);return t.bytes=4,r};return s(5,e,t,function(e){return 4})}(),t.sfixed32=function(){var e=function(t,n,r){return n.writeInt32LE(t,r),e.bytes=4,n},t=function(e,n){var r=e.readInt32LE(n);return t.bytes=4,r};return s(5,e,t,function(e){return 4})}(),t.float=function(){var e=function(t,n,r){return n.writeFloatLE(t,r),e.bytes=4,n},t=function(e,n){var r=e.readFloatLE(n);return t.bytes=4,r};return s(5,e,t,function(e){return 4})}()},function(e,t,n){var r=n(1);t.encode=function e(t,n,i){t=t>=0?2*t:-2*t-1;var o=r.encode(t,n,i);return e.bytes=r.encode.bytes,o},t.decode=function e(t,n){var i=r.decode(t,n);return e.bytes=r.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return r.encodingLength(e>=0?2*e:-2*e-1)}},function(e,t,n){"use strict";var r=n(1),i=n(19).defined,o=function(e,t,n){switch(e){case 0:return r.decode(t,n),n+r.decode.bytes;case 1:return n+8;case 2:var i=r.decode(t,n);return n+r.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4;default:throw new Error("Unknown wire type: "+e)}},s=function(e,t){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return null!=t?t:"";case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t||0,10);default:return null}};e.exports=function(e,t,n){function a(e,t,n,i,o,s){var a=t.name;if(t.oneof)for(var u=Object.keys(n),c=0;c<u.length;c++)f.indexOf(u[c])>-1&&delete n[u[c]];if(e.message){var l=r.decode(i,o);o+=r.decode.bytes;var h=e.decode(i,o,o+l);t.map?(n[a]=n[a]||{},n[a][h.key]=h.value):t.repeated?(n[a]=n[a]||[],n[a].push(h)):n[a]=h}else t.repeated?(n[a]=n[a]||[],n[a].push(e.decode(i,o))):n[a]=e.decode(i,o);return o+=e.decode.bytes}for(var u=[],c={},f=[],l=[],h=0;h<n.length;h++){var p=e.fields[h];c[p.tag]=h;var d=p.options&&p.options.default,b=t(p.type,e.id,!1);l[h]=[d,b&&b.values],e.fields[h].packed=p.repeated&&p.options&&p.options.packed&&"false"!==p.options.packed,p.required&&u.push(p.name),p.oneof&&f.push(p.name)}return function t(h,p,d){if(null==p&&(p=0),null==d&&(d=h.length),!(d<=h.length&&p<=h.length))throw new Error("Decoded message is not valid");for(var b,g=p,v={};;){if(d<=p){var y="",m=0;for(m=0;m<u.length;m++)if(y=u[m],!i(v[y]))throw new Error("Decoded message is not valid, missing required field: "+y);var k,w;for(m=0;m<n.length;m++)if(b=e.fields[m],w=l[m][0],k=l[m][1],y=b.name,!i(v[y])){var S=!1;if(b.oneof)for(var _=Object.keys(v),x=0;x<_.length;x++)if(f.indexOf(_[x])>-1){S=!0;break}S||(k?b.repeated?v[y]=[]:(w=w&&k[w]?k[w].value:k[Object.keys(k)[0]].value,v[y]=parseInt(w||0,10)):v[y]=s(b,w))}return t.bytes=p-g,v}var E=r.decode(h,p);p+=r.decode.bytes;var A=c[E>>3];if(null!=A){var C=n[A];if((b=e.fields[A]).packed){var I=r.decode(h,p);for(I+=p+=r.decode.bytes;p<I;)p=a(C,b,v,h,p)}else p=a(C,b,v,h,p)}else p=o(7&E,h,p)}}}},function(e,t,n){"use strict";(function(t){var r=n(19).defined,i=n(1);e.exports=function(e,n,o,s,a){function u(e,t,n,r,o,s){var a=0;if(!o)for(a=0;a<n.length;a++)e[t++]=n[a];return r.message&&(i.encode(r.encodingLength(s),e,t),t+=i.encode.bytes),r.encode(s,e,t),t+r.encode.bytes}for(var c=Object.keys(s),f=o.length,l={},h=0;h<f;h++){l[h]={p:i.encode(e.fields[h].tag<<3|2),h:i.encode(e.fields[h].tag<<3|o[h].type)};var p=e.fields[h];e.fields[h].packed=p.repeated&&p.options&&p.options.packed&&"false"!==p.options.packed}return function n(h,p,d){null==d&&(d=0),null==p&&(p=t.allocUnsafe(a(h)));var b=d,g=Object.keys(h),v=0,y=!1;for(v=0;v<c.length;v++){var m=c[v],k=s[v];if(g.indexOf(k)>-1){if(y)throw new Error("only one of the properties defined in oneof "+m+" can be set");y=!0}}for(v=0;v<f;v++){var w=o[v],S=e.fields[v],_=h[S.name],x=0;if(r(_)){var E=l[v].p,A=l[v].h,C=S.packed;if(S.map){var I=Object.keys(_);for(x=0;x<I.length;x++)I[x]={key:I[x],value:_[I[x]]};_=I}if(C){var R=0;for(x=0;x<_.length;x++)r(_[x])&&(R+=w.encodingLength(_[x]));if(R){for(x=0;x<A.length;x++)p[d++]=E[x];i.encode(R,p,d),d+=i.encode.bytes}}if(S.repeated){var D;for(x=0;x<_.length;x++)D=_[x],r(D)&&(d=u(p,d,A,w,C,D))}else d=u(p,d,A,w,C,_)}else if(S.required)throw new Error(S.name+" is required")}return n.bytes=d-b,p}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";var r=n(19).defined,i=n(1);e.exports=function(e,t,n){for(var o=Object.keys(n),s=t.length,a=new Array(s),u=0;u<e.fields.length;u++){a[u]=i.encodingLength(e.fields[u].tag<<3|t[u].type);var c=e.fields[u];e.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(u){var c=0,f=0,l=0;for(f=0;f<o.length;f++){var h=o[f],p=n[h],d=!1;for(l=0;l<p.length;l++)if(r(u[p[l]])){if(d)throw new Error("only one of the properties defined in oneof "+h+" can be set");d=!0}}for(f=0;f<s;f++){var b,g=t[f],v=e.fields[f],y=u[v.name],m=a[f];if(r(y)){if(v.map){var k=Object.keys(y);for(l=0;l<k.length;l++)k[l]={key:k[l],value:y[k[l]]};y=k}if(v.packed){var w=0;for(l=0;l<y.length;l++)r(y[l])&&(w+=b=g.encodingLength(y[l]),g.message&&(w+=i.encodingLength(b)));w&&(c+=m+w+i.encodingLength(w))}else if(v.repeated)for(l=0;l<y.length;l++)r(y[l])&&(c+=m+(b=g.encodingLength(y[l]))+(g.message?i.encodingLength(b):0));else c+=m+(b=g.encodingLength(y))+(g.message?i.encodingLength(b):0)}else if(v.required)throw new Error(v.name+" is required")}return c}}},function(e,t,n){"use strict";e.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"},function(e,t,n){"use strict";const r=n(6);e.exports=function(e,t,n,i){i(null,new r(e,t,n))}},function(e,t,n){"use strict";const r=n(6);(t=e.exports).isDagLink=function(e){return e&&e.constructor&&"DAGLink"===e.constructor.name},t.createDagLinkFromB58EncodedHash=function(e){return new r(e.name?e.name:e.Name,e.size?e.size:e.Size,e.hash||e.Hash||e.multihash)}},function(e,t,n){"use strict";const r=n(11),i=r.cloneLinks,o=r.cloneData,s=n(10);e.exports=function(e,t){const n=o(e),r=i(e);s(n,r,t)}},function(e,t,n){"use strict";const r=n(11),i=r.cloneLinks,o=r.cloneData,s=r.toDAGLink,a=n(6),u=n(10);e.exports=function(e,t,n){const r=i(e),c=o(e);if(t.constructor&&"DAGLink"===t.constructor.name);else if(t.constructor&&"DAGNode"===t.constructor.name)t=s(t);else{t.multihash=t.multihash||t.hash;try{t=new a(t.name,t.size,t.multihash)}catch(e){return n(e)}}r.push(t),u(c,r,n)}},function(e,t,n){"use strict";(function(t){const r=n(11),i=r.cloneLinks,o=r.cloneData,s=n(10);e.exports=function(e,n,r){const a=o(e);let u=i(e);if("string"==typeof n)u=u.filter(e=>e.name!==n);else{if(!t.isBuffer(n))return r(new Error("second arg needs to be a name or multihash"),null);u=u.filter(e=>!e.multihash.equals(n))}s(a,u,r)}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";const r=n(97),i=n(17);(t=e.exports).multicodec="dag-pb",t.resolve=((e,t,n)=>{r([t=>i.deserialize(e.data,t),(e,n)=>{const r=t.split("/");if("Links"===r[0]){let t="";if(!r[1])return n(null,{value:e.links.map(e=>e.toJSON()),remainderPath:""});const i={};e.links.forEach((e,t)=>{const n=e.toJSON();i[t]={hash:n.multihash,name:n.name,size:n.size},i[n.name]=n.multihash});let o=i[r[1]];"Hash"===r[2]?o={"/":o.hash}:"Tsize"===r[2]?o={"/":o.size}:"Name"===r[2]&&(o={"/":o.name}),n(null,{value:o,remainderPath:t=r.slice(3).join("/")})}else"Data"===r[0]?n(null,{value:e.data,remainderPath:""}):n(new Error("path not available"))}],n)}),t.tree=((e,t,n)=>{"function"==typeof t&&(n=t,t={}),t=t||{},i.deserialize(e.data,(e,t)=>{if(e)return n(e);const r=[];r.push("Links"),t.links.forEach((e,t)=>{r.push(`Links/${t}/Name`),r.push(`Links/${t}/Tsize`),r.push(`Links/${t}/Hash`)}),r.push("Data"),n(null,r)})}),t.isLink=((e,n,r)=>{t.resolve(e,n,(e,t)=>e?r(e):t.remainderPath.length>0?r(new Error("path out of scope")):void("object"==typeof t.value&&t.value["/"]?r(null,t.value):r(null,!1)))})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(t){var n=(0,c.default)(e[f++]);t.push((0,u.default)(r)),n.apply(null,t)}function r(r){if(r||f===e.length)return t.apply(null,arguments);n((0,a.default)(arguments,1))}if(t=(0,s.default)(t||o.default),!(0,i.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var f=0;n([])};var i=r(n(98)),o=r(n(99)),s=r(n(100)),a=r(n(16)),u=r(n(101)),c=r(n(102));e.exports=t.default},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return o&&"AsyncFunction"===e[Symbol.toStringTag]}Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(103)),o="function"==typeof Symbol;t.default=function(e){return r(e)?(0,i.default)(e):e},t.isAsync=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){try{e(t,n)}catch(e){(0,u.default)(o,e)}}function o(e){throw e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}(0,s.default)(r)&&"function"==typeof r.then?r.then(function(e){i(n,null,e)},function(e){i(n,e.message?e:new Error(e))}):n(null,r)})};var s=r(n(104)),a=r(n(105)),u=r(n(26));e.exports=t.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,r.default)(arguments),n=t.pop();e.call(this,t,n)}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(16));e.exports=t.default},function(e,t,n){(function(t){function r(e){if(t.isBuffer(e))try{return a.toB58String(e),!0}catch(e){return!1}else{if("string"!=typeof e)return!1;try{return a.fromB58String(e),!0}catch(e){return!1}}}function i(e){if(!r(e))throw new Error("The given multihash is not valid")}function o(e){return i(e),"string"==typeof e?e:a.toB58String(e)}const s=n(107),a=n(5),u=n(32),c=n(33),f=n(34);e.exports={createIPFS:async function(e){return await new Promise(t=>{const n=new s(e);n.on("ready",()=>t(n))})},isValidMultihash:r,validateMultihash:i,multihashToString:o,multihashToBuffer:function(e){return i(e),t.isBuffer(e)?e:a.fromB58String(e)},getDAGNodeMultihash:function(e){return o(e.multihash)},getDefaultRepoPath:function(e=c.getDefaultDirectory()){return f.isNode()?u.join(e,"ipfs-repo-v6"):e+"chlu-ipfs-repo-v6"},getDefaultOrbitDBPath:function(e=c.getDefaultDirectory()){return f.isNode()?u.join(e,"orbit-db"):e+"chlu-orbit-db"}}}).call(t,n(0).Buffer)},function(e,t){e.exports=Ipfs},function(e,t){},function(e,t,n){const r=n(3),i=n(13);e.exports=class{constructor(e){this.chluIpfs=e}async pin(e){i.validateMultihash(e),await this.chluIpfs.room.broadcast({type:r.eventTypes.pinning,multihash:e});try{this.chluIpfs.ipfs.pin?await this.chluIpfs.ipfs.pin.add(e,{recursive:!0}):(this.chluIpfs.logger.warn("This node is running an IPFS client that does not implement pinning. Falling back to just retrieving the data non recursively. This will not be supported"),await this.chluIpfs.ipfsUtils.get(e)),await this.chluIpfs.room.broadcast({type:r.eventTypes.pinned,multihash:e})}catch(e){return void this.chluIpfs.logger.error("IPFS Pin Error: "+e.message)}}}},function(e,t,n){(function(t){const r=n(3),i=n(111);e.exports=class{constructor(e){this.chluIpfs=e,this.room=void 0}async start(){this.room||(this.room=i(this.chluIpfs.ipfs,r.pubsubRoom),this.listenToRoomEvents(this.room),this.room.on("message",e=>this.handleMessage(e)),await new Promise(e=>{this.room.once("subscribed",()=>e())}))}async stop(){this.room&&(await new Promise(e=>{this.room.on("stop",e),this.room.leave()}),this.room=void 0)}async waitForAnyPeer(){0===this.room.getPeers().length&&await new Promise(e=>{this.room.on("peer joined",()=>e())})}broadcast(e){let n=e;if("object"==typeof n&&(n=JSON.stringify(n)),"string"==typeof n&&(n=t.from(n)),!t.isBuffer(n))throw new Error("Message format invalid");this.room.broadcast(n)}broadcastReviewUpdates(){this.broadcast({type:r.eventTypes.customerReviews,address:this.chluIpfs.orbitDb.getPersonalDBAddress()})}async handleMessage(e){try{const t=e.data.toString();this.chluIpfs.logger.debug("PubSub Message from "+e.from+": "+t);const n=JSON.parse(t);if(this.chluIpfs.events.emit(n.type||r.eventTypes.unknown,n),n.type===r.eventTypes.pinned&&this.chluIpfs.events.emit(r.eventTypes.pinned+"_"+n.multihash),n.type===r.eventTypes.replicated&&this.chluIpfs.events.emit(r.eventTypes.replicated+"_"+n.address),this.chluIpfs.type===r.types.service){const e=n.type===r.eventTypes.customerReviews||n.type===r.eventTypes.updatedReview;if(n.type===r.eventTypes.wroteReviewRecord&&"string"==typeof n.multihash){this.chluIpfs.logger.info("Reading and Pinning ReviewRecord "+n.multihash);try{this.chluIpfs.logger.debug("Reading and validating ReviewRecord "+n.multihash),await this.chluIpfs.readReviewRecord(n.multihash),this.chluIpfs.logger.debug("Pinning validated ReviewRecord "+n.multihash),await this.chluIpfs.pinning.pin(n.multihash),this.chluIpfs.logger.info("Validated and Pinned ReviewRecord "+n.multihash)}catch(e){this.chluIpfs.logger.error("Pinning failed due to Error: "+e.message)}}else if(e&&"string"==typeof n.address)try{this.chluIpfs.orbitDb.replicate(n.address)}catch(e){this.chluIpfs.logger.error("OrbitDB Replication Error: "+e.message)}}}catch(e){this.chluIpfs.logger.warn("Error while decoding PubSub message")}}listenToRoomEvents(e){e.on("peer joined",e=>{this.chluIpfs.logger.debug("Peer joined the pubsub room",e)}),e.on("peer left",e=>{this.chluIpfs.logger.debug("Peer left the pubsub room",e)}),e.on("subscribed",()=>{this.chluIpfs.logger.debug("Connected to the pubsub room")}),e.on("error",e=>{this.chluIpfs.logger.error("PubSub Room Error: "+e.message||e)})}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";const r=n(112),i=n(12),o=n(15),s=n(35),a=n(7).Buffer,u=n(36),c=n(118),f=n(42),l=n(141),h={pollInterval:1e3};e.exports=((e,t,n)=>new class extends i{constructor(e,t,n){if(super(),this._ipfs=e,this._topic=t,this._options=Object.assign({},s(h),s(n)),this._peers=[],this._connections={},this._handleDirectMessage=this._handleDirectMessage.bind(this),!this._ipfs.pubsub)throw new Error("This IPFS node does not have pubsub.");this._ipfs.isOnline()?this._start():this._ipfs.on("ready",this._start.bind(this)),this._ipfs.on("stop",this.leave.bind(this))}getPeers(){return this._peers.slice(0)}hasPeer(e){return this._peers.indexOf(e)>=0}leave(){o.clearInterval(this._interval),Object.keys(this._connections).forEach(e=>{this._connections[e].stop()}),l.emitter.removeListener(this._topic,this._handleDirectMessage),this.emit("stop")}broadcast(e){let t=f(e);this._ipfs.pubsub.publish(this._topic,t,e=>{e&&this.emit("error",e)})}sendTo(e,t){let n=this._connections[e];n||((n=new c(e,this._ipfs,this)).on("error",e=>this.emit("error",e)),this._connections[e]=n,n.once("disconnect",()=>{delete this._connections[e],this._peers=this._peers.filter(t=>t!==e),this.emit("peer left",e)}));const r=a.from([0]),i={to:e,from:this._ipfs._peerInfo.id.toB58String(),data:a.from(t).toString("hex"),seqno:r.toString("hex"),topicIDs:[this._topic],topicCIDs:[this._topic]};n.push(a.from(JSON.stringify(i)))}_start(){this._interval=o.setInterval(this._pollPeers.bind(this),this._options.pollInterval);const e=this._onMessage.bind(this);this._ipfs.pubsub.subscribe(this._topic,e,e=>{e?this.emit("error",e):this.emit("subscribed",this._topic)}),this.once("stop",()=>{this._ipfs.pubsub.unsubscribe(this._topic,e)}),this._ipfs._libp2pNode.handle(u,l.handler),l.emitter.on(this._topic,this._handleDirectMessage)}_pollPeers(){this._ipfs.pubsub.peers(this._topic,(e,t)=>{if(e)return void this.emit("error",e);const n=t.sort();this._emitChanges(n)&&(this._peers=n)})}_emitChanges(e){const t=r(this._peers,e);return t.added.forEach(e=>this.emit("peer joined",e)),t.removed.forEach(e=>this.emit("peer left",e)),t.added.length>0||t.removed.length>0}_onMessage(e){this.emit("message",e)}_handleDirectMessage(e){if(e.to===this._ipfs._peerInfo.id.toB58String()){const t=Object.assign({},e);delete t.to,this.emit("message",t)}}}(e,t,n))},function(e,t,n){"use strict";function r(e,t,n){return e.indexOf(t)}function i(e,t,n){return e.findIndex(function(e){return function(e,t,n){return n.every(n=>t[n]===e[n])}(e,t,n)})}const o=n(35),s=n(114)("hyperdiff"),a=n(117),u=e=>-1!==e;e.exports=function(e,t,n){const{first:c,second:f}=function(e,t){return{first:e,second:o(t)}}(e,t),l=function(e){return e?i:r}(n);s("preconditions first=%j second=%j findIndex=%s",c,f,l.name);const h=c.reduce(function(e,t,r){const i=l(f,t,n),o=u(i)?"common":"removed";return e[o].push(t),a(f,i),s("index=%s value=%s collection=%s",r,t,o),e},{common:[],removed:[]});return h.added=f,s("added=%j removed=%j common%j",h.added,h.removed,h.common),h}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(115)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(t,n(2))},function(e,t,n){function r(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(e,o),s.splice(u,1),u--}return n}),t.formatArgs.call(e,s);(n.log||t.log||console.log.bind(console)).apply(e,s)}}var r;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),n.destroy=i,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(116),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,i=60*r,o=60*i,s=24*o,a=365.25*s;e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*a;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){return n(e,s,"day")||n(e,o,"hour")||n(e,i,"minute")||n(e,r,"second")||e+" ms"}(e):function(e){return e>=s?Math.round(e/s)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(e,t){for(var n=e.length;n--;)if(function(e,t){return e===t||e!=e&&t!=t}(e[n][0],t))return n;return-1}function a(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?void 0:function(e,t,n){var r=null==e?void 0:c(e,t);return void 0===r?n:r}(e,t[n]);return o}function u(e,t,r,i,o){var s=-1,a=e.length;for(r||(r=g),o||(o=[]);++s<a;){var c=e[s];t>0&&r(c)?t>1?u(c,t-1,r,i,o):n(o,c):i||(o[o.length]=c)}return o}function c(e,t){for(var n=0,r=(t=y(t,e)?[t]:h(t)).length;null!=e&&n<r;)e=e[m(t[n++])];return n&&n==r?e:void 0}function f(e){if(!S(e)||function(e){return!!V&&V in e}(e))return!1;return(w(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?X:L).test(function(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function l(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(v(i))te.call(e,i,1);else if(y(i,e))delete e[m(i)];else{var s=h(i),a=function(e,t){return 1==t.length?e:c(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t);(n=n>i?i:n)<0&&(n+=i);i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);for(;++r<i;)o[r]=e[r+t];return o}(t,0,-1))}(e,s);null!=a&&delete a[m(function(e){var t=e?e.length:0;return t?e[t-1]:void 0}(s))]}}}return e}function h(e){return fe(e)?e:ue(e)}function p(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=x(e),s=void 0!==t,a=null===t,u=t==t,c=x(t);if(!a&&!c&&!o&&e>t||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function d(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function b(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return f(n)?n:void 0}function g(e){return fe(e)||function(e){return function(e){return _(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}(e.length)&&!w(e)}(e)}(e)&&K.call(e,"callee")&&(!ee.call(e,"callee")||Z.call(e)==D)}(e)||!!(ne&&e&&e[ne])}function v(e,t){return!!(t=null==t?R:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function y(e,t){if(fe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!x(e))||(T.test(e)||!P.test(e)||null!=t&&e in Object(t))}function m(e){if("string"==typeof e||x(e))return e;var t=e+"";return"0"==t&&1/e==-I?"-0":t}function k(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(A);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(k.Cache||o),n}function w(e){var t=S(e)?Z.call(e):"";return t==O||t==B}function S(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||_(e)&&Z.call(e)==j}function E(e){return null==e?"":function(e){if("string"==typeof e)return e;if(x(e))return ae?ae.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}(e)}var A="Expected a function",C="__lodash_hash_undefined__",I=1/0,R=9007199254740991,D="[object Arguments]",O="[object Function]",B="[object GeneratorFunction]",j="[object Symbol]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,U=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,L=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,z="object"==typeof t&&t&&t.Object===Object&&t,q="object"==typeof self&&self&&self.Object===Object&&self,$=z||q||Function("return this")(),H=Array.prototype,Y=Function.prototype,G=Object.prototype,J=$["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=Y.toString,K=G.hasOwnProperty,Z=G.toString,X=RegExp("^"+W.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=$.Symbol,ee=G.propertyIsEnumerable,te=H.splice,ne=Q?Q.isConcatSpreadable:void 0,re=Math.max,ie=b($,"Map"),oe=b(Object,"create"),se=Q?Q.prototype:void 0,ae=se?se.toString:void 0;r.prototype.clear=function(){this.__data__=oe?oe(null):{}},r.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},r.prototype.get=function(e){var t=this.__data__;if(oe){var n=t[e];return n===C?void 0:n}return K.call(t,e)?t[e]:void 0},r.prototype.has=function(e){var t=this.__data__;return oe?void 0!==t[e]:K.call(t,e)},r.prototype.set=function(e,t){return this.__data__[e]=oe&&void 0===t?C:t,this},i.prototype.clear=function(){this.__data__=[]},i.prototype.delete=function(e){var t=this.__data__,n=s(t,e);return!(n<0||(n==t.length-1?t.pop():te.call(t,n,1),0))},i.prototype.get=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]},i.prototype.has=function(e){return s(this.__data__,e)>-1},i.prototype.set=function(e,t){var n=this.__data__,r=s(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},o.prototype.clear=function(){this.__data__={hash:new r,map:new(ie||i),string:new r}},o.prototype.delete=function(e){return d(this,e).delete(e)},o.prototype.get=function(e){return d(this,e).get(e)},o.prototype.has=function(e){return d(this,e).has(e)},o.prototype.set=function(e,t){return d(this,e).set(e,t),this};var ue=k(function(e){e=E(e);var t=[];return U.test(e)&&t.push(""),e.replace(F,function(e,n,r,i){t.push(r?i.replace(M,"$1"):n||e)}),t}),ce=function(e,t){return t=re(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=re(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(function(e,t){t=u(t,1);var n=e?e.length:0,r=a(e,t);return l(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,function(e){return v(e,n)?+e:e}).sort(p)),r});k.Cache=o;var fe=Array.isArray;e.exports=ce}).call(t,n(4))},function(e,t,n){"use strict";const r=n(12),i=n(37),o=n(140),s=n(36),a=n(42);e.exports=class extends r{constructor(e,t,n){super(),this._id=e,this._ipfs=t,this._room=n,this._connection=null,this._connecting=!1}push(e){this._connection?this._connection.push(a(e)):(this.once("connect",()=>this.push(e)),this._connecting||this._getConnection())}stop(){this._connection&&this._connection.end()}_getConnection(){this._connecting=!0,this._getPeerAddresses(this._id,(e,t)=>{e?this.emit("error",e):t.length?this._ipfs._libp2pNode.dial(t[0],s,(e,t)=>{if(e)return void this.emit("disconnect");this._connecting=!1;const n=o();this._connection=n,i(n,t,i.onEnd(()=>{delete this._connection,this.emit("disconnect")})),this.emit("connect",n)}):this.emit("disconnect")})}_getPeerAddresses(e,t){this._ipfs.swarm.peers((n,r)=>{n?t(n):t(null,r.filter(t=>t.peer.id.toB58String()===e).map(e=>e.peer))})}}},function(e,t,n){"use strict";e.exports={keys:n(120),once:n(39),values:n(20),count:n(121),infinite:n(122),empty:n(123),error:n(124)}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e){return r(Object.keys(e))}},function(e,t,n){"use strict";e.exports=function(e){var t=0;return e=e||1/0,function(n,r){return n?r&&r(n):t>e?r(!0):void r(null,t++)}}},function(e,t,n){"use strict";e.exports=function(e){return e=e||Math.random,function(t,n){return t?n&&n(t):n(null,e())}}},function(e,t,n){"use strict";e.exports=function(){return function(e,t){t(!0)}}},function(e,t,n){"use strict";e.exports=function(e){return function(t,n){n(e)}}},function(e,t,n){"use strict";e.exports={drain:n(8),onEnd:n(126),log:n(127),find:n(128),reduce:n(21),collect:n(129),concat:n(130)}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){return r(null,e)}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){return r(function(e){console.log(e)},e)}},function(e,t,n){"use strict";function r(e){return e}var i=n(9),o=n(8);e.exports=function(e,t){var n=!1;return t?e=i(e)||r:(t=e,e=r),o(function(r){if(e(r))return n=!0,t(null,r),!1},function(e){n||t(!0===e?null:e,null)})}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){return r(function(e,t){return e.push(t),e},[],e)}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){return r(function(e,t){return e+t},"",e)}},function(e,t,n){"use strict";e.exports={map:n(132),asyncMap:n(133),filter:n(22),filterNot:n(134),through:n(135),take:n(136),unique:n(41),nonUnique:n(137),flatten:n(138)}},function(e,t,n){"use strict";function r(e){return e}var i=n(9);e.exports=function(e){return e?(e=i(e),function(t){return function(n,r){t(n,function(n,i){try{i=n?null:e(i)}catch(e){return t(e,function(){return r(e)})}r(n,i)})}}):r}},function(e,t,n){"use strict";function r(e){return e}var i=n(9);e.exports=function(e){if(!e)return r;e=i(e);var t,n,o=!1;return function(r){return function i(s,a){if(n)return a(n);s?(n=s,r(s,o?function(){o?t=a:a(s)}:a)):r(null,function(r,s){r?a(r):n?a(n):(o=!0,e(s,function(e,r){o=!1,n?(a(n),t(n)):e?i(e,a):a(null,r)}))})}}}},function(e,t,n){"use strict";var r=n(40),i=n(22);e.exports=function(e){return e=r(e),i(function(t){return!e(t)})}},function(e,t,n){"use strict";e.exports=function(e,t){function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}var r=!1;return function(t){return function(r,i){return r&&n(r),t(r,function(t,r){t?n(t):e&&e(r),i(t,r)})}}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(t=t||{}).last||!1,r=!1;if("number"==typeof e){n=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,function(t){n=!1,e(t||!0)})}return function(o,s){r?n?i(s):s(r):(r=o)?t(r,s):t(null,function(t,o){(r=r||t)?s(r):e(o)?s(null,o):(r=!0,n?s(null,o):i(s))})}}}},function(e,t,n){"use strict";var r=n(41);e.exports=function(e){return r(e,!0)}},function(e,t,n){"use strict";var r=n(20),i=n(39);e.exports=function(){return function(e){var t;return function(n,o){function s(){t(null,function(t,n){!0===t?a():t?e(!0,function(e){o(t)}):o(null,n)})}function a(){t=null,e(null,function(e,n){if(e)return o(e);Array.isArray(n)||n&&"object"==typeof n?n=r(n):"function"!=typeof n&&(n=i(n)),t=n,s()})}n?t?t(n,function(t){e(t||n,o)}):e(n,o):t?s():a()}}}},function(e,t,n){"use strict";e.exports=function e(t){var n=arguments.length;if("function"==typeof t&&1===t.length){for(var r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(t){if(null==r)throw new TypeError("partial sink should only be called once!");var i=r;switch(r=null,n){case 1:return e(t,i[0]);case 2:return e(t,i[0],i[1]);case 3:return e(t,i[0],i[1],i[2]);case 4:return e(t,i[0],i[1],i[2],i[3]);default:return i.unshift(t),e.apply(null,i)}}}var o=t;o&&"function"==typeof o.source&&(o=o.source);for(i=1;i<n;i++){var s=arguments[i];"function"==typeof s?o=s(o):s&&"object"==typeof s&&(s.sink(o),o=s.source)}return o}},function(e,t){e.exports=function(e,t){function n(e,t){e&&(a=e,u&&s(a)),u=t,o()}function r(e){c=c||e||!0,o()}function i(e){c||(u?s(a,e):(f.push(e),o()))}function o(){u&&(a?s(a):!f.length&&c?s(c):f.length&&s(null,f.shift()))}function s(e,n){var r=u;if(e&&t){var i=t;t=null,i(!0===e?null:e)}u=null,r(e,n)}"function"==typeof e&&(t=e,e=!1);var a,u,c,f=[];return e?{push:i,end:r,source:n}:(n.push=i,n.end=r,n)}},function(e,t,n){"use strict";const r=n(37),i=n(7).Buffer,o=new(n(12));e.exports={handler:function(e,t){t.getPeerInfo((e,n)=>{if(e)return void console.log(e);const s=n.id.toB58String();r(t,r.map(e=>{let t;try{t=JSON.parse(e.toString())}catch(e){return void o.emit("warning",e.message)}if(s!==t.from)return void o.emit("warning","no peerid match "+t.from);const n=t.topicIDs;if(Array.isArray(n))return t.data=i.from(t.data,"hex"),t.seqno=i.from(t.seqno,"hex"),n.forEach(e=>{o.emit(e,t)}),t;o.emit("warning","no topic IDs")}),r.onEnd(()=>{}))})},emitter:o}},function(e,t,n){const r=n(31),i=n(5),o=n(24),s=n(3),a=r(n(143)),u=n(13);e.exports=class{constructor(e){this.chluIpfs=e}async getLastReviewRecordUpdate(e,t){this.chluIpfs.logger.debug("Checking for review updates for "+t);let n=t,r=t,i=[t];for(;n;)if("string"==typeof(n=await e.get(n))){if(!(i.indexOf(n)<0))throw new Error("Recursive references detected in this OrbitDB: "+e.address.toString());r=n,i.push(n),this.chluIpfs.logger.debug("Found forward pointer from "+t+" to "+r)}if(t!=r)return this.chluIpfs.logger.debug(t+" updates to "+r),r;this.chluIpfs.logger.debug("no updates found for "+t)}async notifyIfReviewIsUpdated(e,t,n){const r=await this.getLastReviewRecordUpdate(e,t);r&&n(t,r)}async findLastReviewRecordUpdate(e,t){const n=await this.getReviewRecord(e);if(n.orbitDb){const r=await this.chluIpfs.orbitDb.openDbForReplication(n.orbitDb);r.events.once("replicated",()=>this.notifyIfReviewIsUpdated(r,e,t)),this.notifyIfReviewIsUpdated(r,e,t)}}async getHistory(e,t=[]){const n=e.previous_version_multihash;if(n){if(t.indexOf(n)>=0)throw new Error("Recursive history detected");t.push(n);const e=await this.chluIpfs.reviewRecords.readReviewRecord(n,{validate:!1});return await this.getHistory(e,t)}return t}async getReviewRecord(e){const t=await this.chluIpfs.ipfsUtils.get(e);return a.ReviewRecord.decode(t)}async readReviewRecord(e,t={}){const{notifyUpdate:n=null,validate:r=!0}=t;u.validateMultihash(e);const i=await this.getReviewRecord(e);if(r){const e="object"==typeof r?r:{};this.chluIpfs.validator.validateReviewRecord(i,e)}return n&&this.findLastReviewRecordUpdate(e,n),i}async prepareReviewRecord(e,t=!0){if(this.chluIpfs.type===s.types.customer)e.orbitDb=this.chluIpfs.getOrbitDBAddress();else if(!e.orbitDb)throw new Error("Can not set the orbitDb address since this is not a customer");return e=this.setPointerToLastReviewRecord(e),e=await this.setReviewRecordHash(e),t&&await this.chluIpfs.validator.validateReviewRecord(e),a.ReviewRecord.encode(e)}async storeReviewRecord(e,t={}){const{previousVersionMultihash:n,publish:r=!0,validate:i=!0}=t,o=await this.prepareReviewRecord(e,i),s=await this.chluIpfs.ipfsUtils.createDAGNode(o),a=u.getDAGNodeMultihash(s);if(t.expectedMultihash&&t.expectedMultihash!==a)throw new Error("Expected a different multihash");return r&&await this.publishReviewRecord(s,n,a),a}async publishReviewRecord(e,t,n){const r=await this.chluIpfs.ipfsUtils.storeDAGNode(e);if(n&&r!==n)throw new Error("Multihash mismatch when publishing");let i=[this.waitForRemotePin(r)];t&&i.push(this.setForwardPointerForReviewRecord(t,r)),await Promise.all(i),this.chluIpfs.lastReviewRecordMultihash=r,await this.chluIpfs.persistence.persistData()}async waitForRemotePin(e){await new Promise(t=>{this.chluIpfs.events.once(s.eventTypes.pinned+"_"+e,()=>t()),this.chluIpfs.room.broadcast({type:s.eventTypes.wroteReviewRecord,multihash:e})})}async setForwardPointerForReviewRecord(e,t){return this.chluIpfs.logger.debug("Setting forward pointer for "+e+" to "+t),await new Promise(async n=>{const r=this.chluIpfs.getOrbitDBAddress();this.chluIpfs.events.once(s.eventTypes.replicated+"_"+r,()=>n());try{await this.chluIpfs.orbitDb.db.set(e,t)}catch(e){this.chluIpfs.logger.error("OrbitDB Error: "+e.message||e)}this.chluIpfs.room.broadcastReviewUpdates(),this.chluIpfs.logger.debug("Waiting for remote replication")}),this.chluIpfs.logger.debug("Done setting forward pointer, the db has been replicated remotely"),t}async setReviewRecordHash(e){let t;try{const n=i.fromB58String(e.hash),r=i.decode(n);t=r.name}catch(e){t="sha2-256"}e.hash="";const n=a.ReviewRecord.encode(e),r=await new Promise((e,r)=>{o(n,t,(t,n)=>{t?r(t):e(n)})});return e.hash=i.toB58String(r),e}setPointerToLastReviewRecord(e){return this.chluIpfs.lastReviewRecordMultihash&&(e.last_reviewrecord_multihash=this.chluIpfs.lastReviewRecordMultihash),e}}},function(e,t){e.exports="\n    message PoPR {\n        message ReviewAttribute {\n            required string name = 1;\n            required uint32 min_rating = 2;\n            required uint32 max_rating = 3;\n            required string description = 4;\n            required bool is_required = 5;\n        }\n        optional string item_id = 1;\n        optional string invoice_id = 2;\n        optional string customer_id = 3;\n        optional uint64 created_at = 4;\n        optional uint64 expires_at = 5;\n        required string currency_symbol = 6;\n        required int32 amount = 7;\n        optional string marketplace_url = 8;\n        optional string marketplace_vendor_url = 9;\n        required string key_location = 10;\n        required uint32 chlu_version = 11;\n        repeated ReviewAttribute attributes = 12;\n        required string signature = 13;\n    }\n  \n    message ReviewRecord {\n        message DetailedReview {\n            required string attribute = 1;\n            required string review_text = 2;\n            required uint32 rating = 3;\n        }\n        required string currency_symbol = 1;\n        required int32 amount = 2;\n        required string customer_address = 3;\n        required string vendor_address = 4;\n        optional string review_text = 5;\n        optional uint32 rating = 6;\n        repeated DetailedReview detailed_review = 7;\n        required PoPR popr = 8;\n        required uint32 chlu_version = 9;\n        required string orbitDb = 10;\n        optional string last_reviewrecord_multihash = 11;\n        required string hash = 12;\n    }\n\n    message PaymentRecord {\n        required string customer_address = 1;\n        required string vendor_address = 2;\n        required int32 amount = 3;\n        required ReviewRecord review_record = 4;\n    }\n"},function(e,t){function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}e.exports=class{constructor(e){this.chluIpfs=e}async validateReviewRecord(e,t={}){const n=function(e){const t=Object.assign({},e);return"object"==typeof t.popr&&Object.assign(t.popr,e.popr),t}(e),r=Object.assign({validateVersion:!0,validateMultihash:!0,validateHistory:!0},t);r.validateVersion&&this.validateVersion(n),r.validateMultihash&&await this.validateMultihash(n,n.hash.slice(0)),r.validateHistory&&await this.validateHistory(n)}async validateMultihash(e,t){if(t!==(await this.chluIpfs.reviewRecords.setReviewRecordHash(e)).hash)throw new Error("Mismatching hash")}async validateHistory(e){const t=await this.chluIpfs.reviewRecords.getHistory(e);if(t.length>0){const n=await this.chluIpfs.reviewRecords.readReviewRecord(t[0],{validate:!1});this.validatePrevious(e,n)}const n=t.map(async(e,n)=>{const r=await this.chluIpfs.reviewRecords.readReviewRecord(e,{validate:!1});if(await this.validateReviewRecord(r,{validateHistory:!1}),n!==t.length-1){const e=await this.chluIpfs.reviewRecords.readReviewRecord(t[n+1]);this.validatePrevious(r,e)}});await Promise.all(n)}validatePrevious(e,t){if(!n(e.popr,t.popr))throw new Error("PoPR was changed");!function(e,t,r){for(const i of r){let r;if(!(r="object"==typeof e[i]||"object"==typeof t[i]?n(e,t):e[i]===t[i]))throw new Error(i+" has changed")}}(e,t,["amount","currency_symbol","customer_address","vendor_address"])}validateVersion(e){if(0!==e.chlu_version)throw new Error("Chlu Protocol Version unsupported")}}},function(e,t,n){const r=n(3),i=n(146);e.exports=class{constructor(e){this.chluIpfs=e,this.dbs={},this.db=null}getPersonalDBAddress(){return this.db?this.db.address.toString():null}async start(){this.orbitDb||(this.chluIpfs.logger.debug("Initializing OrbitDB with directory "+this.chluIpfs.orbitDbDirectory),this.orbitDb=new i(this.chluIpfs.ipfs,this.chluIpfs.orbitDbDirectory),this.chluIpfs.logger.debug("Initialized OrbitDB with directory "+this.chluIpfs.orbitDbDirectory))}async stop(){this.orbitDb&&await this.orbitDb.stop()}async openPersonalOrbitDB(e=null){return e?(this.chluIpfs.logger.debug("Opening existing Personal OrbitDB"),this.db=await this.openDb(e),this.db&&this.chluIpfs.logger.debug("Opened existing Personal OrbitDB")):(this.db=await this.openDb(r.customerDbName),this.chluIpfs.logger.debug("Created Personal OrbitDB")),this.db}async openDb(e){this.chluIpfs.logger.debug("Opening "+e);let t;try{t=await this.orbitDb.kvstore(e),this.listenToDBEvents(t),await t.load(),this.chluIpfs.logger.debug("Opened "+e)}catch(t){this.chluIpfs.logger.error("Coud not Open "+e+": "+t.message||t)}return t}async openDbForReplication(e){return this.dbs[e]||(this.dbs[e]=await this.openDb(e),this.dbs[e]&&await this.chluIpfs.persistence.persistData()),this.dbs[e]}async openDbs(e){this.chluIpfs.logger.debug("Opening "+e.length+" OrbitDBs");for(const t of e)this.dbs[t]=await this.openDb(t);this.chluIpfs.logger.debug("Opened all persisted OrbitDBs")}async replicate(e){this.chluIpfs.logger.info("Replicating "+e);const t=await this.openDbForReplication(e);t&&(this.chluIpfs.room.broadcast({type:r.eventTypes.replicating,address:e}),await new Promise(n=>{this.chluIpfs.logger.debug("Waiting for next replication of "+e),t.events.once("replicated",n),t.events.once("ready",n)}),this.chluIpfs.room.broadcast({type:r.eventTypes.replicated,address:e}),this.chluIpfs.logger.info("Replicated "+e))}listenToDBEvents(e){e.events.on("replicated",e=>{this.chluIpfs.logger.debug("OrbitDB Event: Replicated "+e)}),e.events.on("replicate",e=>{this.chluIpfs.logger.debug("OrbitDB Event: Replicate "+e)}),e.events.on("replicate.progress",(e,t,n,r)=>{this.chluIpfs.logger.debug("OrbitDB Event: Replicate Progress "+r+" for address "+e)}),e.events.on("ready",()=>this.chluIpfs.logger.debug("OrbitDB Event: Ready")),e.events.on("write",()=>this.chluIpfs.logger.debug("OrbitDB Event: Write")),e.events.on("load",()=>this.chluIpfs.logger.debug("OrbitDB Event: Load")),e.events.on("load.progress",(e,t,n,r,i)=>{this.chluIpfs.logger.debug("OrbitDB Event: Load Progress "+r+"/"+i+" for address "+e)})}}},function(e,t){e.exports=OrbitDB},function(e,t,n){const r=n(3);e.exports=class{constructor(e){this.chluIpfs=e}async persistData(){if(this.chluIpfs.enablePersistence){const e={};this.chluIpfs.type===r.types.customer?(e.orbitDbAddress=this.chluIpfs.getOrbitDBAddress(),e.lastReviewRecordMultihash=this.chluIpfs.lastReviewRecordMultihash):this.chluIpfs.type===r.types.service&&(e.orbitDbAddresses=Object.keys(this.chluIpfs.orbitDb.dbs)),this.chluIpfs.logger.debug("Saving persisted data");try{await this.chluIpfs.storage.save(this.chluIpfs.directory,e,this.chluIpfs.type)}catch(e){this.chluIpfs.logger.error("Could not write data: "+e.message||e)}this.chluIpfs.logger.debug("Saved persisted data")}else this.chluIpfs.logger.debug("Not persisting data, persistence disabled")}async loadPersistedData(){if(this.chluIpfs.enablePersistence){this.chluIpfs.logger.debug("Loading persisted data");const e=await this.chluIpfs.storage.load(this.chluIpfs.directory,this.chluIpfs.type);this.chluIpfs.logger.debug("Loaded persisted data"),this.chluIpfs.type===r.types.service&&e.orbitDbAddresses&&await this.chluIpfs.orbitDb.openDbs(e.orbitDbAddresses),e.orbitDbAddress&&await this.chluIpfs.orbitDb.openPersonalOrbitDB(e.orbitDbAddress),e.lastReviewRecordMultihash&&(this.chluIpfs.lastReviewRecordMultihash=e.lastReviewRecordMultihash)}else this.chluIpfs.logger.debug("Not loading persisted data, persistence disabled")}}},function(e,t){e.exports={debug(e){console.log("[DEBUG] "+e)},info(e){console.log("[INFO] "+e)},warn(e){console.warn("[WARNING] "+e)},error(e){console.error("[ERROR] "+e)}}},function(e,t,n){const r=n(3),i=n(150),{getFakeReviewRecord:o}=n(151);e.exports=Object.assign(class{constructor(e={}){if(Object.values(r.types).indexOf(e.type)<0)throw new Error("Invalid type");this.type=e.type,void 0!==e.fakeWait?this.fakeWait=e.fakeWait:this.fakeWait=!0}async _wait(e){this.fakeWait&&await i.milliseconds(e)}async start(){return await this._wait(1e3),!0}async stop(){return await this._wait(1e3),!0}async switchType(e){await this._wait(1e3),this.type=e}async pin(){await this._wait(3e3)}getOrbitDBAddress(){return"mockedorbitdbaddress"}async readReviewRecord(){return await this._wait(3e3),await o()}async storeReviewRecord(){return await this._wait(3e3),"mockedRRmultihash"}async exportData(){return await this._wait(1e3),this.type===r.types.customer?{customerDbKeys:{pub:"examplePublicKey",priv:"examplePrivateKey"}}:{}}async importData(){await this._wait(1e3)}async getVendorKeys(){return await this._wait(5e3),{pubenc:"mockedpubenckey",pubsig:"mockedpubsigkey"}}async publishKeys(){return await this._wait(3e3),"fakekeysmultihash"}},r)},function(e,t){e.exports={milliseconds:async e=>await new Promise(t=>setTimeout(t,e))}},function(e,t){e.exports={getFakeReviewRecord:function(){return{currency_symbol:"USD",amount:100013,customer_address:"customer_address",vendor_address:"vendor_address",review_text:"it was a really nice item",rating:4,detailed_review:[],popr:{item_id:"item_id",invoice_id:"invoice_id",customer_id:"customer_id",created_at:12345,expires_at:34567,currency_symbol:"USD",amount:100013,marketplace_url:"chlu.io",marketplace_vendor_url:"chlu.io",key_location:"/ipfs/url",chlu_version:0,attributes:[{name:"score",min_rating:1,max_rating:5,description:"rating",is_required:!0}],signature:"-"},orbitDb:"/orbitdb/ipfshash/chlu-experimental-customer-review-updates",last_reviewrecord_multihash:"",chlu_version:0,hash:"-"}}}}]);